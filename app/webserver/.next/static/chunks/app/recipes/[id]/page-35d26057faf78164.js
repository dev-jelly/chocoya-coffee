(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5856],{800:(e,t,r)=>{"use strict";r.d(t,{LikeButton:()=>i});var s=r(4568),o=r(7620),a=r(5918),n=r(1874);function i(e){let{recipeId:t,initialLikes:r,userId:i}=e,[c,u]=(0,o.useState)(r),[l,d]=(0,o.useState)(!1),[f,h]=(0,o.useState)(!1);(0,o.useEffect)(()=>{i&&m(),v()},[i,t]);let m=async()=>{try{let e=await fetch("/api/recipes/".concat(t,"/like/check"),{method:"GET"});if(e.ok){let t=await e.json();d(t.isLiked)}}catch(e){console.error("좋아요 상태 확인 중 오류 발생:",e)}},v=async()=>{try{let e=await fetch("/api/recipes/".concat(t,"/likes/count"));if(e.ok){let t=await e.json();u(t.count)}}catch(e){console.error("좋아요 수 조회 중 오류 발생:",e)}},y=async()=>{if(!i){n.oR.error("좋아요를 누르려면 로그인이 필요합니다");return}h(!0);try{let e=await fetch("/api/recipes/".concat(t,"/like"),{method:"POST",headers:{"Content-Type":"application/json"}});if(e.ok){let t=await e.json();d(t.isLiked),t.isLiked?(u(e=>e+1),n.oR.success("좋아요를 눌렀습니다")):(u(e=>Math.max(0,e-1)),n.oR.success("좋아요를 취소했습니다"))}else n.oR.error("처리 중 오류가 발생했습니다")}catch(e){console.error("좋아요 처리 중 오류 발생:",e),n.oR.error("요청 처리 중 오류가 발생했습니다")}finally{h(!1)}};return(0,s.jsxs)("button",{className:"inline-flex items-center text-sm ".concat(l?"text-primary font-medium":"text-muted-foreground hover:text-foreground"," transition-colors cursor-pointer ").concat(f?"opacity-70":""),onClick:y,disabled:f,children:[(0,s.jsx)(a.A,{size:16,className:"mr-1 ".concat(l?"fill-primary":"")}),"좋아요 ",c]})}},962:(e,t,r)=>{Promise.resolve().then(r.bind(r,3274)),Promise.resolve().then(r.bind(r,7e3)),Promise.resolve().then(r.bind(r,800)),Promise.resolve().then(r.t.bind(r,7261,23))},2942:(e,t,r)=>{"use strict";var s=r(2418);r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}}),r.o(s,"useSearchParams")&&r.d(t,{useSearchParams:function(){return s.useSearchParams}})},3274:(e,t,r)=>{"use strict";r.d(t,{DeleteRecipeButton:()=>a});var s=r(4568);r(7620);var o=r(8262);function a(e){let{recipeId:t}=e,r=async e=>{confirm("정말로 이 레시피를 삭제하시겠습니까? 이 작업은 되돌릴 수 없습니다.")||e.preventDefault()};return(0,s.jsxs)("button",{type:"submit",className:"px-3 py-1.5 text-sm bg-destructive text-destructive-foreground rounded-md hover:bg-destructive/90 transition-colors flex items-center",onClick:r,children:[(0,s.jsx)(o.A,{size:14,className:"mr-1"})," 삭제하기"]})}},3928:(e,t,r)=>{"use strict";r.d(t,{cn:()=>a});var s=r(2987),o=r(607);function a(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,o.QP)((0,s.$)(t))}},5918:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(8889).A)("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]])},7e3:(e,t,r)=>{"use strict";r.d(t,{FavoriteButton:()=>u});var s=r(4568),o=r(7620),a=r(9457),n=r(1874),i=r(2942),c=r(7227);function u(e){let{recipeId:t,initialIsFavorite:r,userId:u}=e,[l,d]=(0,o.useState)(r),[f,h]=(0,o.useState)(!1),m=(0,i.useRouter)(),v=async()=>{if(!u){n.oR.error("즐겨찾기를 추가하려면 로그인이 필요합니다."),m.push("/auth/login");return}h(!0);try{let e=await fetch("/api/favorites",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({recipeId:t})});if(!e.ok)throw Error("즐겨찾기 처리 중 오류가 발생했습니다.");let r=await e.json();d(r.isFavorite),n.oR.success(r.isFavorite?"즐겨찾기에 추가되었습니다.":"즐겨찾기에서 제거되었습니다."),m.refresh()}catch(e){n.oR.error("즐겨찾기 처리 중 오류가 발생했습니다."),console.error(e)}finally{h(!1)}};return(0,s.jsxs)(c.$,{variant:"ghost",size:"sm",onClick:v,disabled:f,className:"flex items-center gap-1 ".concat(l?"text-yellow-500":"text-muted-foreground"),children:[(0,s.jsx)(a.A,{size:16,className:l?"fill-yellow-500":""}),l?"즐겨찾기 추가됨":"즐겨찾기"]})}},7227:(e,t,r)=>{"use strict";r.d(t,{$:()=>c});var s=r(4568),o=r(7620),a=r(4908),n=r(3928);let i=(0,a.F)("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=o.forwardRef((e,t)=>{let{className:r,variant:o,size:a,asChild:c=!1,...u}=e;return(0,s.jsx)("button",{className:(0,n.cn)(i({variant:o,size:a,className:r})),ref:t,...u})});c.displayName="Button"},8262:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(8889).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},9457:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(8889).A)("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]])}},e=>{var t=t=>e(e.s=t);e.O(0,[7261,7540,1874,587,8315,7358],()=>t(962)),_N_E=e.O()}]);