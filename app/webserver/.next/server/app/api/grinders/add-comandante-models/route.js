(()=>{var e={};e.id=2682,e.ids=[2682],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},21420:(e,r,t)=>{"use strict";t.r(r),t.d(r,{patchFetch:()=>g,routeModule:()=>u,serverHooks:()=>m,workAsyncStorage:()=>l,workUnitAsyncStorage:()=>p});var n={};t.r(n),t.d(n,{GET:()=>d});var o=t(48106),a=t(48819),s=t(12050),i=t(4235),c=t(44627);async function d(){try{let e=[{id:"comandante-x25",name:"Comandante X25",name_ko:"코만단테 X25",brand:"Comandante",type:"manual",adjustmentType:"stepped",burr:"conical",burrSize:"38mm",description:"The Comandante X25 is a premium manual coffee grinder with high-quality burrs designed for both filter and espresso.",description_ko:"코만단테 X25는 필터와 에스프레소 모두에 적합한 고품질 버를 갖춘 프리미엄 수동 커피 그라인더입니다.",imageUrl:null},{id:"comandante-c60",name:"Comandante C60",name_ko:"코만단테 C60",brand:"Comandante",type:"manual",adjustmentType:"stepped",burr:"conical",burrSize:"38mm",description:"The Comandante C60 is a high-capacity manual coffee grinder perfect for brewing larger batches.",description_ko:"코만단테 C60은 대량 추출에 적합한 대용량 수동 커피 그라인더입니다.",imageUrl:null}],r=await c.zR.grinder.findUnique({where:{id:"comandante-x25"}}),t=await c.zR.grinder.findUnique({where:{id:"comandante-c60"}}),n=[];if(r)n.push({...r,status:"이미 존재함"});else{let r=await c.zR.grinder.create({data:e[0]});n.push(r)}if(t)n.push({...t,status:"이미 존재함"});else{let r=await c.zR.grinder.create({data:e[1]});n.push(r)}return i.NextResponse.json({success:!0,message:"코만단테 X25와 C60 모델이 추가되었습니다.",addedGrinders:n})}catch(e){return console.error("Error adding Comandante models:",e),i.NextResponse.json({success:!1,error:"코만단테 모델 추가 중 오류가 발생했습니다."},{status:500})}}let u=new o.AppRouteRouteModule({definition:{kind:a.RouteKind.APP_ROUTE,page:"/api/grinders/add-comandante-models/route",pathname:"/api/grinders/add-comandante-models",filename:"route",bundlePath:"app/api/grinders/add-comandante-models/route"},resolvedPagePath:"/Users/jelly/WebstormProjects/chocoya-coffee/app/webserver/src/app/api/grinders/add-comandante-models/route.ts",nextConfigOutput:"",userland:n}),{workAsyncStorage:l,workUnitAsyncStorage:p,serverHooks:m}=u;function g(){return(0,s.patchFetch)({workAsyncStorage:l,workUnitAsyncStorage:p})}},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},44627:(e,r,t)=>{"use strict";t.d(r,{kR:()=>i,zR:()=>a});var n=t(96330);let o=global;o.isConnected||(o.isConnected=!1,o.connectionError=null,o.lastConnectionAttempt=0,o.connectionRetryCount=0);let a=o.prisma??function(){let e=process.env.DATABASE_URL;process.env.DIRECT_URL;let r={log:["error"],errorFormat:"pretty"};return e&&(r.datasources={db:{url:e}}),new n.PrismaClient(r)}();async function s(){try{let e=Date.now();if(o.isConnected)return{connected:!0,error:null};if(o.connectionError&&e-o.lastConnectionAttempt<3e4)return{connected:!1,error:o.connectionError};if(o.connectionRetryCount>=3){let r=e-o.lastConnectionAttempt;if(r<3e4)return{connected:!1,error:`${o.connectionError} (${Math.ceil((3e4-r)/1e3)}초 후 재시도 가능)`};o.connectionRetryCount=0}return o.lastConnectionAttempt=e,o.connectionRetryCount++,await a.user.findFirst({select:{id:!0},take:1}),o.isConnected=!0,o.connectionError=null,o.connectionRetryCount=0,{connected:!0,error:null}}catch(r){console.error("Database connection error:",r);let e="데이터베이스 연결 오류";return r instanceof Error&&(r.message.includes("P5010")||r.message.includes("fetch failed")?e="데이터베이스 서버에 연결할 수 없습니다. 네트워크 연결을 확인하거나 잠시 후 다시 시도해주세요.":r.message.includes("timeout")?e="데이터베이스 연결 시간이 초과되었습니다. 잠시 후 다시 시도해주세요.":r.message.includes("authentication")&&(e="데이터베이스 인증에 실패했습니다. 관리자에게 문의하세요.")),o.isConnected=!1,o.connectionError=e,{connected:!1,error:e}}}async function i(e,r,t){try{let n=await s();if(!n.connected)return t&&t(Error(n.error||"데이터베이스 연결 오류")),r;return await e()}catch(e){return console.error("Database operation error:",e),t&&t(e),r}}},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},80408:()=>{},87032:()=>{},96330:e=>{"use strict";e.exports=require("@prisma/client")}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),n=r.X(0,[191,3744],()=>t(21420));module.exports=n})();