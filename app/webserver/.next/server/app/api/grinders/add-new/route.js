(()=>{var e={};e.id=265,e.ids=[265],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},44627:(e,r,n)=>{"use strict";n.d(r,{kR:()=>a,zR:()=>o});var t=n(96330);let i=global;i.isConnected||(i.isConnected=!1,i.connectionError=null,i.lastConnectionAttempt=0,i.connectionRetryCount=0);let o=i.prisma??function(){let e=process.env.DATABASE_URL;process.env.DIRECT_URL;let r={log:["error"],errorFormat:"pretty"};return e&&(r.datasources={db:{url:e}}),new t.PrismaClient(r)}();async function s(){try{let e=Date.now();if(i.isConnected)return{connected:!0,error:null};if(i.connectionError&&e-i.lastConnectionAttempt<3e4)return{connected:!1,error:i.connectionError};if(i.connectionRetryCount>=3){let r=e-i.lastConnectionAttempt;if(r<3e4)return{connected:!1,error:`${i.connectionError} (${Math.ceil((3e4-r)/1e3)}초 후 재시도 가능)`};i.connectionRetryCount=0}return i.lastConnectionAttempt=e,i.connectionRetryCount++,await o.user.findFirst({select:{id:!0},take:1}),i.isConnected=!0,i.connectionError=null,i.connectionRetryCount=0,{connected:!0,error:null}}catch(r){console.error("Database connection error:",r);let e="데이터베이스 연결 오류";return r instanceof Error&&(r.message.includes("P5010")||r.message.includes("fetch failed")?e="데이터베이스 서버에 연결할 수 없습니다. 네트워크 연결을 확인하거나 잠시 후 다시 시도해주세요.":r.message.includes("timeout")?e="데이터베이스 연결 시간이 초과되었습니다. 잠시 후 다시 시도해주세요.":r.message.includes("authentication")&&(e="데이터베이스 인증에 실패했습니다. 관리자에게 문의하세요.")),i.isConnected=!1,i.connectionError=e,{connected:!1,error:e}}}async function a(e,r,n){try{let t=await s();if(!t.connected)return n&&n(Error(t.error||"데이터베이스 연결 오류")),r;return await e()}catch(e){return console.error("Database operation error:",e),n&&n(e),r}}},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},59961:(e,r,n)=>{"use strict";n.r(r),n.d(r,{patchFetch:()=>k,routeModule:()=>p,serverHooks:()=>g,workAsyncStorage:()=>m,workUnitAsyncStorage:()=>l});var t={};n.r(t),n.d(t,{GET:()=>u});var i=n(48106),o=n(48819),s=n(12050),a=n(4235),d=n(44627);let c=[{id:"weber-key-plus",name:"Weber Key+ Grinder",name_ko:"웨버 키+ 그라인더",brand:"Weber Workshops",type:"electric",burr:"Premium Flat Burr",burrSize:"83mm",adjustmentType:"stepless",description:"The Weber Key+ is an advanced version of the Key grinder with improved features and performance for home enthusiasts.",description_ko:"웨버 키+는 가정용 커피 애호가를 위해 개선된 기능과 성능을 갖춘 키 그라인더의 고급 버전입니다.",imageUrl:"/grinders/weber-key-plus.jpg",settings:[{name:"Espresso",name_ko:"에스프레소",value:"1.5-2.0",brewingMethod:"에스프레소",description:"Fine grind for espresso extraction",description_ko:"에스프레소 추출에 적합한 고운 분쇄도"},{name:"Pour Over",name_ko:"푸어오버",value:"3.5-4.0",brewingMethod:"푸어오버",description:"Medium grind for pour over brewing methods",description_ko:"푸어오버 추출 방식에 적합한 중간 분쇄도"}]},{id:"wilfa-uniform-plus",name:"Wilfa Uniform+ Grinder",name_ko:"윌파 유니폼+ 그라인더",brand:"Wilfa",type:"electric",burr:"Steel Flat Burr",burrSize:"58mm",adjustmentType:"stepless",description:"The Wilfa Uniform+ is a home grinder with professional-grade flat burrs and precise adjustment mechanism.",description_ko:"윌파 유니폼+는 전문가급 평평한 버와 정밀한 조절 메커니즘을 갖춘 가정용 그라인더입니다.",imageUrl:"/grinders/wilfa-uniform-plus.jpg",settings:[{name:"Pour Over",name_ko:"푸어오버",value:"25-30",brewingMethod:"푸어오버",description:"Medium grind for pour over methods like V60 or Kalita",description_ko:"V60이나 칼리타와 같은 푸어오버 방식에 적합한 중간 분쇄도"},{name:"French Press",name_ko:"프렌치프레스",value:"40-45",brewingMethod:"프렌치프레스",description:"Coarse grind for French Press brewing",description_ko:"프렌치프레스 추출에 적합한 굵은 분쇄도"}]},{id:"fellow-opus",name:"Fellow Opus Conical Burr Grinder",name_ko:"펠로우 오퍼스 코니컬 버 그라인더",brand:"Fellow",type:"electric",burr:"Stainless Steel Conical Burr",burrSize:"40mm",adjustmentType:"click",description:"The Fellow Opus is a compact and elegant electric grinder with advanced anti-static technology and 41 grind settings.",description_ko:"펠로우 오퍼스는 고급 정전기 방지 기술과 41가지 분쇄 설정을 갖춘 컴팩트하고 우아한 전동 그라인더입니다.",imageUrl:"/grinders/fellow-opus.jpg",settings:[{name:"Espresso",name_ko:"에스프레소",value:"5-10",brewingMethod:"에스프레소",description:"Fine grind for espresso extraction",description_ko:"에스프레소 추출에 적합한 고운 분쇄도"},{name:"Pour Over",name_ko:"푸어오버",value:"20-25",brewingMethod:"푸어오버",description:"Medium grind for pour over methods",description_ko:"푸어오버 방식에 적합한 중간 분쇄도"},{name:"French Press",name_ko:"프렌치프레스",value:"30-35",brewingMethod:"프렌치프레스",description:"Coarse grind for immersion brewing",description_ko:"침지식 추출에 적합한 굵은 분쇄도"}]},{id:"1zpresso-j-max",name:"1Zpresso J-Max Manual Grinder",name_ko:"원제스프레소 J-맥스 수동 그라인더",brand:"1Zpresso",type:"manual",burr:"Stainless Steel Conical Burr",burrSize:"48mm",adjustmentType:"click",description:"The 1Zpresso J-Max is a premium manual grinder with external adjustment ring and 409 precise click settings.",description_ko:"원제스프레소 J-맥스는 외부 조절 링과 409개의 정밀한 클릭 설정을 갖춘 프리미엄 수동 그라인더입니다.",imageUrl:"/grinders/1zpresso-j-max.jpg",settings:[{name:"Espresso",name_ko:"에스프레소",value:"1.0-1.5 회전 (80-120 클릭)",brewingMethod:"에스프레소",description:"Fine grind for espresso machines",description_ko:"에스프레소 머신에 적합한 고운 분쇄도"},{name:"Pour Over",name_ko:"푸어오버",value:"2.5-3.0 회전 (200-240 클릭)",brewingMethod:"푸어오버",description:"Medium grind for pour over brewing",description_ko:"푸어오버 추출에 적합한 중간 분쇄도"}]},{id:"timemore-g1",name:"Timemore G1 Plus Manual Grinder",name_ko:"타임모어 G1 플러스 수동 그라인더",brand:"Timemore",type:"manual",burr:"Stainless Steel Conical Burr",burrSize:"38mm",adjustmentType:"click",description:"The Timemore G1 Plus is an updated version of the G1 with improved adjustment mechanism and larger capacity.",description_ko:"타임모어 G1 플러스는 개선된 조절 메커니즘과 더 큰 용량을 갖춘 G1의 업그레이드 버전입니다.",imageUrl:"/grinders/timemore-g1.jpg",settings:[{name:"Espresso",name_ko:"에스프레소",value:"6-8 클릭",brewingMethod:"에스프레소",description:"Fine grind for espresso extraction",description_ko:"에스프레소 추출에 적합한 고운 분쇄도"},{name:"Pour Over",name_ko:"푸어오버",value:"12-16 클릭",brewingMethod:"푸어오버",description:"Medium grind for pour over methods",description_ko:"푸어오버 방식에 적합한 중간 분쇄도"}]}];async function u(){try{let e=0;for(let r of c){let{settings:n,...t}=r,i=await d.zR.grinder.findFirst({where:{OR:[{id:t.id},{name:t.name,brand:t.brand}]}});i?await d.zR.grinder.update({where:{id:i.id},data:{name_ko:t.name_ko,description_ko:t.description_ko}}):(await d.zR.grinder.create({data:{id:t.id,name:t.name,name_ko:t.name_ko,brand:t.brand,type:t.type,burr:t.burr,burrSize:t.burrSize,adjustmentType:t.adjustmentType,description:t.description,description_ko:t.description_ko,imageUrl:t.imageUrl,settings:{create:n.map(e=>({name:e.name,name_ko:e.name_ko,value:e.value,brewingMethod:e.brewingMethod,description:e.description,description_ko:e.description_ko}))}}}),e++)}return a.NextResponse.json({success:!0,message:`새 그라인더 데이터가 성공적으로 처리되었습니다. ${e}개의 새 그라인더가 추가되었습니다.`,addedCount:e})}catch(e){return console.error("Error adding new grinders:",e),a.NextResponse.json({success:!1,error:"새 그라인더 데이터 추가 중 오류가 발생했습니다."},{status:500})}}let p=new i.AppRouteRouteModule({definition:{kind:o.RouteKind.APP_ROUTE,page:"/api/grinders/add-new/route",pathname:"/api/grinders/add-new",filename:"route",bundlePath:"app/api/grinders/add-new/route"},resolvedPagePath:"/Users/jelly/WebstormProjects/chocoya-coffee/app/webserver/src/app/api/grinders/add-new/route.ts",nextConfigOutput:"",userland:t}),{workAsyncStorage:m,workUnitAsyncStorage:l,serverHooks:g}=p;function k(){return(0,s.patchFetch)({workAsyncStorage:m,workUnitAsyncStorage:l})}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},80408:()=>{},87032:()=>{},96330:e=>{"use strict";e.exports=require("@prisma/client")}};var r=require("../../../../webpack-runtime.js");r.C(e);var n=e=>r(r.s=e),t=r.X(0,[191,3744],()=>n(59961));module.exports=t})();