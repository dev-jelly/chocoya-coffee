(()=>{var e={};e.id=6636,e.ids=[6636],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9699:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>i});var s=t(41253);let i=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},10097:(e,r,t)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"unstable_rethrow",{enumerable:!0,get:function(){return function e(r){if((0,n.isNextRouterError)(r)||(0,a.isBailoutToCSRError)(r)||(0,o.isDynamicServerError)(r)||(0,l.isDynamicPostpone)(r)||(0,i.isPostpone)(r)||(0,s.isHangingPromiseRejectionError)(r))throw r;r instanceof Error&&"cause"in r&&e(r.cause)}}});let s=t(46049),i=t(72610),a=t(90507),n=t(5631),l=t(94924),o=t(8194);("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),e.exports=r.default)},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11997:e=>{"use strict";e.exports=require("punycode")},13661:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,49989,23)),Promise.resolve().then(t.t.bind(t,75636,23))},17890:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,42671,23)),Promise.resolve().then(t.t.bind(t,56082,23))},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},22884:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=(0,t(68366).A)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},27910:e=>{"use strict";e.exports=require("stream")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},29699:(e,r,t)=>{"use strict";function s(){throw Object.defineProperty(Error("`forbidden()` is experimental and only allowed to be enabled when `experimental.authInterrupts` is enabled."),"__NEXT_ERROR_CODE",{value:"E488",enumerable:!1,configurable:!0})}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"forbidden",{enumerable:!0,get:function(){return s}}),t(22859).HTTP_ERROR_FALLBACK_ERROR_CODE,("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),e.exports=r.default)},33748:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>a.default,__next_app__:()=>c,pages:()=>d,routeModule:()=>u,tree:()=>o});var s=t(24332),i=t(48819),a=t(84423),n=t(97540),l={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>n[e]);t.d(r,l);let o={children:["",{children:["profile",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,70962)),"/Users/jelly/WebstormProjects/chocoya-coffee/app/webserver/src/app/profile/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,9699))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,5910)),"/Users/jelly/WebstormProjects/chocoya-coffee/app/webserver/src/app/layout.tsx"],error:[()=>Promise.resolve().then(t.bind(t,80765)),"/Users/jelly/WebstormProjects/chocoya-coffee/app/webserver/src/app/error.tsx"],"global-error":[()=>Promise.resolve().then(t.bind(t,84423)),"/Users/jelly/WebstormProjects/chocoya-coffee/app/webserver/src/app/global-error.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,19033,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,39956,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,92341,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,9699))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,d=["/Users/jelly/WebstormProjects/chocoya-coffee/app/webserver/src/app/profile/page.tsx"],c={require:t,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:i.RouteKind.APP_PAGE,page:"/profile/page",pathname:"/profile",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},38050:(e,r,t)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"notFound",{enumerable:!0,get:function(){return i}});let s=""+t(22859).HTTP_ERROR_FALLBACK_ERROR_CODE+";404";function i(){let e=Object.defineProperty(Error(s),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});throw e.digest=s,e}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),e.exports=r.default)},42543:(e,r,t)=>{"use strict";var s=t(68855);t.o(s,"notFound")&&t.d(r,{notFound:function(){return s.notFound}}),t.o(s,"redirect")&&t.d(r,{redirect:function(){return s.redirect}})},49600:(e,r,t)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),!function(e,r){for(var t in r)Object.defineProperty(e,t,{enumerable:!0,get:r[t]})}(r,{getRedirectError:function(){return n},getRedirectStatusCodeFromError:function(){return u},getRedirectTypeFromError:function(){return c},getURLFromRedirectError:function(){return d},permanentRedirect:function(){return o},redirect:function(){return l}});let s=t(49005),i=t(31903),a=t(19121).actionAsyncStorage;function n(e,r,t){void 0===t&&(t=s.RedirectStatusCode.TemporaryRedirect);let a=Object.defineProperty(Error(i.REDIRECT_ERROR_CODE),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return a.digest=i.REDIRECT_ERROR_CODE+";"+r+";"+e+";"+t+";",a}function l(e,r){var t;throw null!=r||(r=(null==a?void 0:null==(t=a.getStore())?void 0:t.isAction)?i.RedirectType.push:i.RedirectType.replace),n(e,r,s.RedirectStatusCode.TemporaryRedirect)}function o(e,r){throw void 0===r&&(r=i.RedirectType.replace),n(e,r,s.RedirectStatusCode.PermanentRedirect)}function d(e){return(0,i.isRedirectError)(e)?e.digest.split(";").slice(2,-2).join(";"):null}function c(e){if(!(0,i.isRedirectError)(e))throw Object.defineProperty(Error("Not a redirect error"),"__NEXT_ERROR_CODE",{value:"E260",enumerable:!1,configurable:!0});return e.digest.split(";",2)[1]}function u(e){if(!(0,i.isRedirectError)(e))throw Object.defineProperty(Error("Not a redirect error"),"__NEXT_ERROR_CODE",{value:"E260",enumerable:!1,configurable:!0});return Number(e.digest.split(";").at(-2))}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),e.exports=r.default)},50092:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=(0,t(68366).A)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},68855:(e,r,t)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),!function(e,r){for(var t in r)Object.defineProperty(e,t,{enumerable:!0,get:r[t]})}(r,{ReadonlyURLSearchParams:function(){return c},RedirectType:function(){return i.RedirectType},forbidden:function(){return n.forbidden},notFound:function(){return a.notFound},permanentRedirect:function(){return s.permanentRedirect},redirect:function(){return s.redirect},unauthorized:function(){return l.unauthorized},unstable_rethrow:function(){return o.unstable_rethrow}});let s=t(49600),i=t(31903),a=t(38050),n=t(29699),l=t(77670),o=t(69938);class d extends Error{constructor(){super("Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams")}}class c extends URLSearchParams{append(){throw new d}delete(){throw new d}set(){throw new d}sort(){throw new d}}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),e.exports=r.default)},69938:(e,r,t)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"unstable_rethrow",{enumerable:!0,get:function(){return s}});let s=t(10097).unstable_rethrow;("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),e.exports=r.default)},70126:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=(0,t(68366).A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},70962:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>_,dynamic:()=>v,metadata:()=>g,revalidate:()=>y});var s=t(38828);t(61365);var i=t(42671),a=t.n(i),n=t(14299),l=t(42543),o=t(44627),d=t(70126),c=t(86234),u=t(22884),f=t(68366);let m=(0,f.A)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),p=(0,f.A)("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);var x=t(50092),h=t(32081),b=t(65543),j=t(84875);let v="force-dynamic",y=0,g={title:"내 프로필 | 초코야 커피",description:"내 계정 정보와 활동 내역"};async function _(){let e=await (0,j.U)(),{data:{user:r}}=await e.auth.getUser();r?.id||(0,l.redirect)("/auth/login?callbackUrl=/profile");let t=null,i={id:r.id,name:r.user_metadata?.name||"사용자",email:r.email,image:r.user_metadata?.avatar_url,recipes:[],favorites:[],tasteNotes:[]},f=await (0,o.kR)(async()=>await o.zR.user.findUnique({where:{id:r.id},include:{recipes:{where:{userId:r.id},orderBy:{createdAt:"desc"},take:3},favorites:{include:{recipe:!0},orderBy:{createdAt:"desc"},take:3},tasteNotes:{orderBy:{createdAt:"desc"},take:3}}})||i,i,e=>{console.error("사용자 정보 조회 오류:",e),t=e instanceof Error?e.message:"사용자 정보를 불러오는 중 오류가 발생했습니다. 잠시 후 다시 시도해주세요."});return(0,s.jsx)("div",{className:"container px-4 md:px-6 py-6 md:py-10",children:(0,s.jsxs)("div",{className:"flex flex-col gap-8",children:[t&&(0,s.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6 flex items-start",children:[(0,s.jsx)(d.A,{className:"text-red-500 mr-2 mt-0.5 flex-shrink-0",size:18}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("p",{className:"text-red-700 font-medium",children:"데이터베이스 연결 오류"}),(0,s.jsx)("p",{className:"text-red-600 text-sm mt-1",children:t}),(0,s.jsx)("div",{className:"mt-3",children:(0,s.jsxs)(a(),{href:"/profile",className:"inline-flex items-center text-sm text-red-700 hover:text-red-800",children:[(0,s.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"새로고침"]})})]})]}),(0,s.jsx)("div",{className:"w-full",children:(0,s.jsxs)("div",{className:"bg-card border rounded-lg p-6",children:[(0,s.jsxs)("div",{className:"flex flex-col items-center mb-6",children:[f.image?(0,s.jsx)("div",{className:"relative w-24 h-24 rounded-full overflow-hidden mb-4",children:(0,s.jsx)(n.default,{src:f.image,alt:f.name||"프로필 이미지",fill:!0,className:"object-cover"})}):(0,s.jsx)("div",{className:"w-24 h-24 rounded-full bg-muted flex items-center justify-center mb-4",children:(0,s.jsx)(c.A,{size:32})}),(0,s.jsx)("h1",{className:"text-2xl font-bold",children:f.name||"사용자"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:f.email})]}),(0,s.jsxs)("div",{className:"flex flex-wrap justify-center gap-2 sm:gap-4",children:[(0,s.jsxs)(a(),{href:"/profile/edit",className:"flex items-center justify-between p-3 hover:bg-muted rounded-md transition",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(u.A,{size:18,className:"mr-2"}),(0,s.jsx)("span",{children:"프로필 수정"})]}),(0,s.jsx)(m,{size:16,className:"ml-2"})]}),(0,s.jsxs)(a(),{href:"/profile/favorites",className:"flex items-center justify-between p-3 hover:bg-muted rounded-md transition",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(p,{size:18,className:"mr-2"}),(0,s.jsx)("span",{children:"즐겨찾기"})]}),(0,s.jsx)(m,{size:16,className:"ml-2"})]}),(0,s.jsxs)(a(),{href:"/profile/settings",className:"flex items-center justify-between p-3 hover:bg-muted rounded-md transition",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(x.A,{size:18,className:"mr-2"}),(0,s.jsx)("span",{children:"계정 설정"})]}),(0,s.jsx)(m,{size:16,className:"ml-2"})]})]})]})}),(0,s.jsxs)("div",{className:"w-full",children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold",children:"내 레시피"}),(0,s.jsx)(a(),{href:"/recipes/create",className:"text-sm text-primary hover:underline",children:"새 레시피 작성"})]}),0===f.recipes.length?(0,s.jsxs)("div",{className:"bg-card border rounded-lg p-4 text-center",children:[(0,s.jsx)("p",{className:"text-muted-foreground",children:"아직 작성한 레시피가 없습니다."}),(0,s.jsx)(a(),{href:"/recipes/create",className:"mt-2 inline-block text-primary hover:underline",children:"첫 번째 레시피 작성하기"})]}):(0,s.jsxs)("div",{className:"grid gap-4",children:[f.recipes.map(e=>(0,s.jsx)(a(),{href:`/recipes/${e.id}`,passHref:!0,children:(0,s.jsx)("div",{className:"bg-card border rounded-lg p-4 hover:shadow-md transition",children:(0,s.jsxs)("div",{className:"flex items-start",children:[(0,s.jsx)(h.A,{className:"mr-3 mt-1"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-medium",children:e.title}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground line-clamp-1",children:e.description||"설명 없음"})]})]})})},e.id)),f.recipes.length>3&&(0,s.jsx)(a(),{href:"/profile/recipes",className:"text-center text-primary hover:underline py-2",children:"모든 레시피 보기"})]})]}),(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold",children:"내 맛 노트"}),(0,s.jsx)(a(),{href:"/taste-notes/create",className:"text-sm text-primary hover:underline",children:"새 맛 노트 작성"})]}),0===f.tasteNotes.length?(0,s.jsxs)("div",{className:"bg-card border rounded-lg p-4 text-center",children:[(0,s.jsx)("p",{className:"text-muted-foreground",children:"아직 작성한 맛 노트가 없습니다."}),(0,s.jsx)(a(),{href:"/taste-notes/create",className:"mt-2 inline-block text-primary hover:underline",children:"첫 번째 맛 노트 작성하기"})]}):(0,s.jsxs)("div",{className:"grid gap-4",children:[f.tasteNotes.map(e=>(0,s.jsx)(a(),{href:`/taste-notes/${e.id}`,passHref:!0,children:(0,s.jsx)("div",{className:"bg-card border rounded-lg p-4 hover:shadow-md transition",children:(0,s.jsxs)("div",{className:"flex items-start",children:[(0,s.jsx)(b.A,{className:"mr-3 mt-1"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-medium",children:e.coffeeName}),(0,s.jsxs)("p",{className:"text-sm text-muted-foreground",children:[e.origin?`${e.origin}, `:"",e.roaster||"로스터리 정보 없음"]})]})]})})},e.id)),f.tasteNotes.length>3&&(0,s.jsx)(a(),{href:"/profile/taste-notes",className:"text-center text-primary hover:underline py-2",children:"모든 맛 노트 보기"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold",children:"즐겨찾기"}),(0,s.jsx)(a(),{href:"/profile/favorites",className:"text-sm text-primary hover:underline",children:"모든 즐겨찾기 보기"})]}),0===f.favorites.length?(0,s.jsxs)("div",{className:"bg-card border rounded-lg p-4 text-center",children:[(0,s.jsx)("p",{className:"text-muted-foreground",children:"아직 즐겨찾기한 레시피가 없습니다."}),(0,s.jsx)(a(),{href:"/recipes",className:"mt-2 inline-block text-primary hover:underline",children:"레시피 둘러보기"})]}):(0,s.jsx)("div",{className:"grid gap-4",children:f.favorites.map(e=>(0,s.jsx)(a(),{href:`/recipes/${e.recipeId}`,passHref:!0,children:(0,s.jsx)("div",{className:"bg-card border rounded-lg p-4 hover:shadow-md transition",children:(0,s.jsxs)("div",{className:"flex items-start",children:[(0,s.jsx)(h.A,{className:"mr-3 mt-1"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-medium",children:e.recipe?.title||"삭제된 레시피"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground line-clamp-1",children:e.recipe?.description||"설명 없음"})]})]})})},e.recipeId))})]})]})]})})}},74075:e=>{"use strict";e.exports=require("zlib")},77670:(e,r,t)=>{"use strict";function s(){throw Object.defineProperty(Error("`unauthorized()` is experimental and only allowed to be used when `experimental.authInterrupts` is enabled."),"__NEXT_ERROR_CODE",{value:"E411",enumerable:!1,configurable:!0})}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"unauthorized",{enumerable:!0,get:function(){return s}}),t(22859).HTTP_ERROR_FALLBACK_ERROR_CODE,("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),e.exports=r.default)},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},86234:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=(0,t(68366).A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")},96330:e=>{"use strict";e.exports=require("@prisma/client")}};var r=require("../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[191,3395,5208,3796,4058,1253,5636,4299,856],()=>t(33748));module.exports=s})();