(()=>{var e={};e.id=3779,e.ids=[3779],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9699:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(41253);let a=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},9708:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,42671,23))},10097:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"unstable_rethrow",{enumerable:!0,get:function(){return function e(t){if((0,o.isNextRouterError)(t)||(0,n.isBailoutToCSRError)(t)||(0,l.isDynamicServerError)(t)||(0,i.isDynamicPostpone)(t)||(0,a.isPostpone)(t)||(0,s.isHangingPromiseRejectionError)(t))throw t;t instanceof Error&&"cause"in t&&e(t.cause)}}});let s=r(46049),a=r(72610),n=r(90507),o=r(5631),i=r(94924),l=r(8194);("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11997:e=>{"use strict";e.exports=require("punycode")},15788:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,49989,23))},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},20277:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>_,metadata:()=>g});var s=r(38828);r(61365);var a=r(42671),n=r.n(a),o=r(78443),i=r(86234),l=r(68366);let d=(0,l.A)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);var c=r(22884),u=r(50092);let f=(0,l.A)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);var p=r(32081);let m=(0,l.A)("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);var x=r(42543),h=r(44627);async function b(e){try{return(await h.zR.favorite.findMany({where:{userId:e},include:{recipe:{include:{ingredients:!0,steps:{orderBy:{order:"asc"}},brewingTips:!0,user:{select:{id:!0,name:!0,image:!0}}}}},orderBy:{createdAt:"desc"}})).map(e=>e.recipe)}catch(e){return console.error("즐겨찾기 레시피 조회 오류:",e),[]}}r(30194);var y=r(29787),v=r(43128),j=r(84875);let g={title:"내 프로필 | 초코야 커피",description:"나의 프로필 관리 페이지"};async function _(){let e=await (0,j.U)(),{data:{user:t}}=await e.auth.getUser();t||(0,x.redirect)("/auth/signin");let r=await h.zR.user.findUnique({where:{id:t.id},select:{createdAt:!0,name:!0,email:!0,image:!0}});r||(0,x.redirect)("/auth/signin");let[a,l]=await Promise.all([b(t.id),(0,y.G)(t.id)]),g=r?.createdAt?`${(0,v.o)(r.createdAt,{showDay:!1})}부터 회원`:"";return(0,s.jsxs)("div",{className:"container mx-auto py-10",children:[(0,s.jsxs)(n(),{href:"/",className:"text-primary hover:underline flex items-center mb-6",children:[(0,s.jsx)(o.A,{className:"mr-2",size:16}),"홈으로 돌아가기"]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,s.jsxs)("div",{className:"bg-card p-6 rounded-lg shadow-md flex flex-col items-center",children:[(0,s.jsx)("div",{className:"w-24 h-24 rounded-full bg-muted flex items-center justify-center mb-4 overflow-hidden",children:r.image?(0,s.jsx)("img",{src:r.image,alt:r.name||"프로필 이미지",className:"w-full h-full object-cover"}):(0,s.jsx)(i.A,{size:48})}),(0,s.jsx)("h1",{className:"text-2xl font-bold mb-1",children:r.name||"이름 없음"}),(0,s.jsxs)("div",{className:"flex items-center text-muted-foreground mb-4",children:[(0,s.jsx)(d,{size:14,className:"mr-1"}),(0,s.jsx)("span",{children:r.email})]}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:g}),(0,s.jsxs)("div",{className:"flex flex-col w-full gap-2 mt-2",children:[(0,s.jsxs)(n(),{href:"/auth/profile/edit",className:"flex items-center justify-center p-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors",children:[(0,s.jsx)(c.A,{size:16,className:"mr-2"}),"프로필 수정"]}),(0,s.jsxs)(n(),{href:"/auth/settings",className:"flex items-center justify-center p-2 bg-secondary text-secondary-foreground rounded-md hover:bg-secondary/90 transition-colors",children:[(0,s.jsx)(u.A,{size:16,className:"mr-2"}),"계정 설정"]})]})]}),(0,s.jsxs)("div",{className:"md:col-span-2 space-y-6",children:[(0,s.jsxs)("div",{className:"bg-card p-6 rounded-lg shadow-md",children:[(0,s.jsx)("h2",{className:"text-xl font-bold mb-4",children:"내 활동"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{className:"bg-muted p-4 rounded-md flex flex-col items-center",children:[(0,s.jsx)(f,{size:24,className:"text-primary mb-2"}),(0,s.jsx)("p",{className:"text-2xl font-bold",children:a?.length||0}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"좋아요한 레시피"})]}),(0,s.jsxs)("div",{className:"bg-muted p-4 rounded-md flex flex-col items-center",children:[(0,s.jsx)(p.A,{size:24,className:"text-primary mb-2"}),(0,s.jsx)("p",{className:"text-2xl font-bold",children:l?.length||0}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"작성한 레시피"})]}),(0,s.jsxs)("div",{className:"bg-muted p-4 rounded-md flex flex-col items-center",children:[(0,s.jsx)(m,{size:24,className:"text-primary mb-2"}),(0,s.jsx)("p",{className:"text-2xl font-bold",children:(a?.length||0)+(l?.length||0)}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"총 활동"})]})]})]}),(0,s.jsxs)("div",{className:"bg-card p-6 rounded-lg shadow-md",children:[(0,s.jsx)("h2",{className:"text-xl font-bold mb-4",children:"최근 좋아요한 레시피"}),(0,s.jsxs)("div",{className:"space-y-2",children:[a&&a.length>0?a.slice(0,3).map((e,t)=>(0,s.jsx)(n(),{href:`/recipes/${e.id}`,className:"block p-3 rounded-md hover:bg-muted transition-colors",children:(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(p.A,{size:18,className:"mr-2 text-primary"}),(0,s.jsx)("span",{className:"font-medium",children:e.title})]}),(0,s.jsx)("div",{className:"text-xs text-muted-foreground mt-2",children:(0,v.o)(e.createdAt)})]})},e.id)):(0,s.jsx)("p",{className:"text-center text-muted-foreground py-4",children:"아직 좋아요한 레시피가 없습니다."}),(0,s.jsx)(n(),{href:"/recipes",className:"text-primary hover:underline text-sm block text-center mt-4",children:"더 많은 레시피 보기"})]})]})]})]})]})}},22884:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(68366).A)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},27910:e=>{"use strict";e.exports=require("stream")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},29699:(e,t,r)=>{"use strict";function s(){throw Object.defineProperty(Error("`forbidden()` is experimental and only allowed to be enabled when `experimental.authInterrupts` is enabled."),"__NEXT_ERROR_CODE",{value:"E488",enumerable:!1,configurable:!0})}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"forbidden",{enumerable:!0,get:function(){return s}}),r(22859).HTTP_ERROR_FALLBACK_ERROR_CODE,("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},38050:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"notFound",{enumerable:!0,get:function(){return a}});let s=""+r(22859).HTTP_ERROR_FALLBACK_ERROR_CODE+";404";function a(){let e=Object.defineProperty(Error(s),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});throw e.digest=s,e}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},42543:(e,t,r)=>{"use strict";var s=r(68855);r.o(s,"notFound")&&r.d(t,{notFound:function(){return s.notFound}}),r.o(s,"redirect")&&r.d(t,{redirect:function(){return s.redirect}})},49600:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{getRedirectError:function(){return o},getRedirectStatusCodeFromError:function(){return u},getRedirectTypeFromError:function(){return c},getURLFromRedirectError:function(){return d},permanentRedirect:function(){return l},redirect:function(){return i}});let s=r(49005),a=r(31903),n=r(19121).actionAsyncStorage;function o(e,t,r){void 0===r&&(r=s.RedirectStatusCode.TemporaryRedirect);let n=Object.defineProperty(Error(a.REDIRECT_ERROR_CODE),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return n.digest=a.REDIRECT_ERROR_CODE+";"+t+";"+e+";"+r+";",n}function i(e,t){var r;throw null!=t||(t=(null==n?void 0:null==(r=n.getStore())?void 0:r.isAction)?a.RedirectType.push:a.RedirectType.replace),o(e,t,s.RedirectStatusCode.TemporaryRedirect)}function l(e,t){throw void 0===t&&(t=a.RedirectType.replace),o(e,t,s.RedirectStatusCode.PermanentRedirect)}function d(e){return(0,a.isRedirectError)(e)?e.digest.split(";").slice(2,-2).join(";"):null}function c(e){if(!(0,a.isRedirectError)(e))throw Object.defineProperty(Error("Not a redirect error"),"__NEXT_ERROR_CODE",{value:"E260",enumerable:!1,configurable:!0});return e.digest.split(";",2)[1]}function u(e){if(!(0,a.isRedirectError)(e))throw Object.defineProperty(Error("Not a redirect error"),"__NEXT_ERROR_CODE",{value:"E260",enumerable:!1,configurable:!0});return Number(e.digest.split(";").at(-2))}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},50092:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(68366).A)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},68855:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ReadonlyURLSearchParams:function(){return c},RedirectType:function(){return a.RedirectType},forbidden:function(){return o.forbidden},notFound:function(){return n.notFound},permanentRedirect:function(){return s.permanentRedirect},redirect:function(){return s.redirect},unauthorized:function(){return i.unauthorized},unstable_rethrow:function(){return l.unstable_rethrow}});let s=r(49600),a=r(31903),n=r(38050),o=r(29699),i=r(77670),l=r(69938);class d extends Error{constructor(){super("Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams")}}class c extends URLSearchParams{append(){throw new d}delete(){throw new d}set(){throw new d}sort(){throw new d}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},69938:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"unstable_rethrow",{enumerable:!0,get:function(){return s}});let s=r(10097).unstable_rethrow;("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},74075:e=>{"use strict";e.exports=require("zlib")},77670:(e,t,r)=>{"use strict";function s(){throw Object.defineProperty(Error("`unauthorized()` is experimental and only allowed to be used when `experimental.authInterrupts` is enabled."),"__NEXT_ERROR_CODE",{value:"E411",enumerable:!1,configurable:!0})}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"unauthorized",{enumerable:!0,get:function(){return s}}),r(22859).HTTP_ERROR_FALLBACK_ERROR_CODE,("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},78443:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(68366).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},86234:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(68366).A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")},96138:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.default,__next_app__:()=>c,pages:()=>d,routeModule:()=>u,tree:()=>l});var s=r(24332),a=r(48819),n=r(84423),o=r(97540),i={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>o[e]);r.d(t,i);let l={children:["",{children:["auth",{children:["profile",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,20277)),"/Users/jelly/WebstormProjects/chocoya-coffee/app/webserver/src/app/auth/profile/page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,9699))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,5910)),"/Users/jelly/WebstormProjects/chocoya-coffee/app/webserver/src/app/layout.tsx"],error:[()=>Promise.resolve().then(r.bind(r,80765)),"/Users/jelly/WebstormProjects/chocoya-coffee/app/webserver/src/app/error.tsx"],"global-error":[()=>Promise.resolve().then(r.bind(r,84423)),"/Users/jelly/WebstormProjects/chocoya-coffee/app/webserver/src/app/global-error.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,19033,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,39956,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,92341,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,9699))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,d=["/Users/jelly/WebstormProjects/chocoya-coffee/app/webserver/src/app/auth/profile/page.tsx"],c={require:r,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/auth/profile/page",pathname:"/auth/profile",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},96330:e=>{"use strict";e.exports=require("@prisma/client")}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[191,3395,5208,3796,4058,1253,1344,6151,856,181],()=>r(96138));module.exports=s})();