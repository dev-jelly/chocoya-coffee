(()=>{var e={};e.id=983,e.ids=[983],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9699:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(41253);let a=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11997:e=>{"use strict";e.exports=require("punycode")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},23025:(e,t,r)=>{"use strict";r.d(t,{p:()=>i});var s=r(13486),a=r(60159),o=r(26518);let i=a.forwardRef(({className:e,type:t,...r},a)=>(0,s.jsx)("input",{type:t,className:(0,o.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:a,...r}));i.displayName="Input"},27910:e=>{"use strict";e.exports=require("stream")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},41571:(e,t,r)=>{"use strict";r.d(t,{J:()=>i});var s=r(13486),a=r(60159),o=r(26518);let i=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)("label",{ref:r,className:(0,o.cn)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",e),...t}));i.displayName="Label"},54791:(e,t,r)=>{"use strict";r.d(t,{F:()=>D});var s=r(13486),a=r(58499),o=r(1039),i=r(15577),n=r(4984),l=r(43967),c=r(70393),d=r(34606),p=r(57956),u=r(74439),m=r(92816),x=r(31461),h=r(48175),f=r(5085),g=r(34321),b=r(97490),v=r(8843),j=r(73120),w=r(45576),y=r(49391),A=r(70087),C=r(69),N=r(14926),P=r(97493),S=r(72513),k=r(39146),T=r(95499),_=r(23365),R=r(5860),q=r(17089),E=r(83991),F=r(28963),M=r(6119),O=r(45831),z=r(98398),I=r(27746);let D={logo:a.A,close:o.A,spinner:i.A,chevronLeft:n.A,chevronRight:l.A,trash:c.A,settings:d.A,user:p.A,add:u.A,warning:m.A,arrowRight:x.A,help:h.A,pizza:f.A,sun:g.A,moon:b.A,laptop:v.A,gitHub:j.A,twitter:w.A,check:y.A,more:A.A,page:C.A,media:N.A,billing:P.A,ellipsis:A.A,post:S.A,command:k.A,coffee:a.A,temperature:T.A,time:_.A,water:R.A,weight:q.A,star:E.A,heart:F.A,bookmark:M.A,share:O.A,comment:z.A,like:I.A,google:({...e})=>(0,s.jsx)("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fab","data-icon":"google",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 488 512",...e,children:(0,s.jsx)("path",{fill:"currentColor",d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"})}),kakao:({...e})=>(0,s.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:(0,s.jsx)("path",{d:"M12 3C6.477 3 2 6.477 2 10.8C2 13.7083 3.79167 16.2417 6.33333 17.7333L5.58333 21.1C5.54167 21.2667 5.59167 21.4417 5.71667 21.55C5.8 21.6333 5.91667 21.6667 6.03333 21.6667C6.13333 21.6667 6.23333 21.6333 6.31667 21.575L10.175 19.125C10.775 19.2083 11.3833 19.25 12 19.25C17.5229 19.25 22 15.7735 22 11.45C22 7.12649 17.5229 3.65 12 3.65V3ZM7.5 12.5C6.67157 12.5 6 11.8284 6 11C6 10.1716 6.67157 9.5 7.5 9.5C8.32843 9.5 9 10.1716 9 11C9 11.8284 8.32843 12.5 7.5 12.5ZM12 12.5C11.1716 12.5 10.5 11.8284 10.5 11C10.5 10.1716 11.1716 9.5 12 9.5C12.8284 9.5 13.5 10.1716 13.5 11C13.5 11.8284 12.8284 12.5 12 12.5ZM16.5 12.5C15.6716 12.5 15 11.8284 15 11C15 10.1716 15.6716 9.5 16.5 9.5C17.3284 9.5 18 10.1716 18 11C18 11.8284 17.3284 12.5 16.5 12.5Z",fill:"currentColor"})})}},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},66413:(e,t,r)=>{Promise.resolve().then(r.bind(r,86547)),Promise.resolve().then(r.t.bind(r,49989,23))},66577:(e,t,r)=>{"use strict";r.d(t,{RegisterForm:()=>s});let s=(0,r(33952).registerClientReference)(function(){throw Error("Attempted to call RegisterForm() from the server but RegisterForm is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/jelly/WebstormProjects/chocoya-coffee/app/webserver/src/components/auth/register-form.tsx","RegisterForm")},74075:e=>{"use strict";e.exports=require("zlib")},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")},80546:(e,t,r)=>{"use strict";r.d(t,{dj:()=>u,oR:()=>p});var s=r(60159);let a=0,o=new Map,i=e=>{if(o.has(e))return;let t=setTimeout(()=>{o.delete(e),d({type:"REMOVE_TOAST",toastId:e})},1e6);o.set(e,t)},n=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,5)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:r}=t;return r?i(r):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},l=[],c={toasts:[]};function d(e){c=n(c,e),l.forEach(e=>{e(c)})}function p({...e}){let t=(a=(a+1)%Number.MAX_SAFE_INTEGER).toString(),r=()=>d({type:"DISMISS_TOAST",toastId:t});return d({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:e=>{e||r()}}}),{id:t,dismiss:r,update:e=>d({type:"UPDATE_TOAST",toast:{...e,id:t}})}}function u(){let[e,t]=s.useState(c);return s.useEffect(()=>(l.push(t),()=>{let e=l.indexOf(t);e>-1&&l.splice(e,1)}),[e]),{...e,toast:p,dismiss:e=>d({type:"DISMISS_TOAST",toastId:e})}}},81630:e=>{"use strict";e.exports=require("http")},83946:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.default,__next_app__:()=>d,pages:()=>c,routeModule:()=>p,tree:()=>l});var s=r(24332),a=r(48819),o=r(84423),i=r(97540),n={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>i[e]);r.d(t,n);let l={children:["",{children:["auth",{children:["register",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,94959)),"/Users/jelly/WebstormProjects/chocoya-coffee/app/webserver/src/app/auth/register/page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,9699))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,5910)),"/Users/jelly/WebstormProjects/chocoya-coffee/app/webserver/src/app/layout.tsx"],error:[()=>Promise.resolve().then(r.bind(r,80765)),"/Users/jelly/WebstormProjects/chocoya-coffee/app/webserver/src/app/error.tsx"],"global-error":[()=>Promise.resolve().then(r.bind(r,84423)),"/Users/jelly/WebstormProjects/chocoya-coffee/app/webserver/src/app/global-error.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,19033,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,39956,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,92341,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,9699))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["/Users/jelly/WebstormProjects/chocoya-coffee/app/webserver/src/app/auth/register/page.tsx"],d={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/auth/register/page",pathname:"/auth/register",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},84973:(e,t,r)=>{Promise.resolve().then(r.bind(r,66577)),Promise.resolve().then(r.t.bind(r,42671,23))},86547:(e,t,r)=>{"use strict";r.d(t,{RegisterForm:()=>f});var s=r(13486),a=r(60159),o=r(85626),i=r(85519),n=r(98509),l=r(74941),c=r(23025),d=r(41571),p=r(54791),u=r(80546),m=r(2984),x=r(70593);let h=n.z.object({name:n.z.string().min(2,{message:"이름은 2자 이상이어야 합니다."}),email:n.z.string().email({message:"유효한 이메일 주소를 입력해주세요."}),password:n.z.string().min(8,{message:"비밀번호는 8자 이상이어야 합니다."})});function f(){let[e,t]=(0,a.useState)(!1),r=(0,m.useRouter)(),{register:n,handleSubmit:f,formState:{errors:g}}=(0,o.mN)({resolver:(0,i.u)(h),defaultValues:{name:"",email:"",password:""}}),b=async e=>{t(!0);try{let{user:t}=await (0,x.bk)(e.email,e.password);if(t){try{let r=await fetch("/api/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t.id,name:e.name,email:e.email})});if(!r.ok){let e=await r.json();401===r.status?console.warn("사용자 프로필 저장 401 오류: 회원가입은 성공했으나 프로필 저장에 실패했습니다"):409===r.status?console.warn("사용자 프로필 저장 409 오류: 이미 존재하는 사용자입니다"):console.error("사용자 프로필 저장 오류:",e.error)}}catch(e){console.error("사용자 프로필 저장 오류:",e)}(0,u.oR)({title:"성공",description:"회원가입이 완료되었습니다! 이메일 인증을 확인해주세요."}),setTimeout(()=>{r.push("/auth/login")},1500)}}catch(t){console.error("Register error:",t);let e="회원가입 중 오류가 발생했습니다.";t instanceof Error&&t.message.includes("email already exists")&&(e="이미 등록된 이메일입니다. 다른 이메일을 사용하거나 로그인해 주세요."),(0,u.oR)({title:"오류",description:e,variant:"destructive"})}finally{t(!1)}},v=async e=>{t(!0);try{await (0,x.cU)(e)}catch(r){console.error(`${e} 로그인 오류:`,r),(0,u.oR)({title:"오류",description:`${e} 로그인에 실패했습니다. 다시 시도해주세요.`,variant:"destructive"}),t(!1)}};return(0,s.jsxs)("div",{className:"grid gap-6",children:[(0,s.jsx)("form",{onSubmit:f(b),children:(0,s.jsxs)("div",{className:"grid gap-4",children:[(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(d.J,{htmlFor:"name",children:"이름"}),(0,s.jsx)(c.p,{id:"name",placeholder:"홍길동",type:"text",autoCapitalize:"none",autoComplete:"name",autoCorrect:"off",disabled:e,...n("name")}),g?.name&&(0,s.jsx)("p",{className:"text-sm text-red-500",children:g.name.message})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(d.J,{htmlFor:"email",children:"이메일"}),(0,s.jsx)(c.p,{id:"email",placeholder:"name@example.com",type:"email",autoCapitalize:"none",autoComplete:"email",autoCorrect:"off",disabled:e,...n("email")}),g?.email&&(0,s.jsx)("p",{className:"text-sm text-red-500",children:g.email.message})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(d.J,{htmlFor:"password",children:"비밀번호"}),(0,s.jsx)(c.p,{id:"password",placeholder:"********",type:"password",autoCapitalize:"none",autoComplete:"new-password",disabled:e,...n("password")}),g?.password&&(0,s.jsx)("p",{className:"text-sm text-red-500",children:g.password.message})]}),(0,s.jsxs)(l.$,{disabled:e,children:[e&&(0,s.jsx)(p.F.spinner,{className:"mr-2 h-4 w-4 animate-spin"}),"회원가입"]})]})}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,s.jsx)("span",{className:"w-full border-t"})}),(0,s.jsx)("div",{className:"relative flex justify-center text-xs uppercase",children:(0,s.jsx)("span",{className:"bg-background px-2 text-muted-foreground",children:"또는 소셜 계정으로 계속하기"})})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)(l.$,{variant:"outline",type:"button",disabled:e,onClick:()=>v("kakao"),className:"bg-[#FEE500] text-black hover:bg-[#FDD835] hover:text-black",children:[(0,s.jsx)(p.F.kakao,{className:"mr-2 h-4 w-4"}),"카카오"]}),(0,s.jsxs)(l.$,{variant:"outline",type:"button",disabled:e,onClick:()=>v("google"),children:[(0,s.jsx)(p.F.google,{className:"mr-2 h-4 w-4"}),"Google"]})]})]})}},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")},94959:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l,metadata:()=>n});var s=r(38828),a=r(42671),o=r.n(a),i=r(66577);let n={title:"회원가입 - 초코야 커피",description:"초코야 커피에 회원가입하세요."};function l(){return(0,s.jsx)("div",{className:"container flex h-screen w-screen flex-col items-center justify-center",children:(0,s.jsxs)("div",{className:"mx-auto flex w-full flex-col justify-center space-y-6 sm:w-[350px]",children:[(0,s.jsxs)("div",{className:"flex flex-col space-y-2 text-center",children:[(0,s.jsx)("h1",{className:"text-2xl font-semibold tracking-tight",children:"계정 만들기"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"아래에 이메일과 비밀번호를 입력하여 회원가입하세요"})]}),(0,s.jsx)(i.RegisterForm,{}),(0,s.jsxs)("p",{className:"px-8 text-center text-sm text-muted-foreground",children:["이미 계정이 있으신가요?"," ",(0,s.jsx)(o(),{href:"/auth/login",className:"underline underline-offset-4 hover:text-primary",children:"로그인하기"})]})]})})}},96330:e=>{"use strict";e.exports=require("@prisma/client")}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[191,3395,5208,3796,4058,1253,7759,7949,856],()=>r(83946));module.exports=s})();