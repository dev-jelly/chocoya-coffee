(()=>{var e={};e.id=4651,e.ids=[4651],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},7856:(e,t,r)=>{Promise.resolve().then(r.bind(r,14264)),Promise.resolve().then(r.bind(r,97164)),Promise.resolve().then(r.bind(r,31133)),Promise.resolve().then(r.t.bind(r,49989,23))},9699:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var s=r(41253);let o=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},10097:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"unstable_rethrow",{enumerable:!0,get:function(){return function e(t){if((0,a.isNextRouterError)(t)||(0,n.isBailoutToCSRError)(t)||(0,c.isDynamicServerError)(t)||(0,i.isDynamicPostpone)(t)||(0,o.isPostpone)(t)||(0,s.isHangingPromiseRejectionError)(t))throw t;t instanceof Error&&"cause"in t&&e(t.cause)}}});let s=r(46049),o=r(72610),n=r(90507),a=r(5631),i=r(94924),c=r(8194);("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11997:e=>{"use strict";e.exports=require("punycode")},14264:(e,t,r)=>{"use strict";r.d(t,{default:()=>l});var s=r(13486),o=r(60159),n=r(70393),a=r(86e3),i=r(2984),c=r(81604),d=r(70593);function l({userId:e}){let[t,r]=(0,o.useState)(!1),[l,u]=(0,o.useState)(""),[p,f]=(0,o.useState)(!1),m=(0,i.useRouter)(),h=async()=>{if("계정삭제"!==l){c.oR.error("확인 텍스트가 일치하지 않습니다");return}f(!0);try{let t=await fetch(`/api/users/${e}`,{method:"DELETE",headers:{"Content-Type":"application/json"}});if(t.ok)c.oR.success("계정이 성공적으로 삭제되었습니다"),await (0,d.CI)(),m.push("/");else{let e=await t.json();c.oR.error(e.error||"계정 삭제 중 오류가 발생했습니다"),f(!1)}}catch(e){console.error("계정 삭제 오류:",e),c.oR.error("서버 오류가 발생했습니다. 잠시 후 다시 시도해주세요"),f(!1)}};return(0,s.jsxs)("div",{className:"bg-destructive/5 p-6 rounded-lg border border-destructive/30",children:[(0,s.jsxs)("div",{className:"flex items-center mb-4",children:[(0,s.jsx)(n.A,{className:"mr-2 text-destructive",size:20}),(0,s.jsx)("h2",{className:"text-xl font-semibold text-destructive",children:"계정 삭제"})]}),t?(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"bg-destructive/10 p-4 rounded-md border border-destructive flex items-start",children:[(0,s.jsx)(a.A,{className:"text-destructive mr-2 flex-shrink-0 mt-0.5",size:16}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-destructive",children:"주의: 이 작업은 취소할 수 없습니다"}),(0,s.jsx)("p",{className:"text-sm mt-1",children:"계정을 삭제하면 모든 데이터가 영구적으로 삭제되며, 복구할 수 없습니다."})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 text-destructive",children:'확인을 위해 "계정삭제"를 입력하세요'}),(0,s.jsx)("input",{type:"text",value:l,onChange:e=>u(e.target.value),className:"w-full p-3 rounded-md border border-destructive/30 bg-destructive/5",placeholder:"계정삭제"})]}),(0,s.jsxs)("div",{className:"flex space-x-3",children:[(0,s.jsx)("button",{type:"button",className:"px-4 py-2 bg-destructive text-destructive-foreground rounded-md hover:bg-destructive/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed cursor-pointer",onClick:h,disabled:p||"계정삭제"!==l,children:p?"삭제 중...":"계정 영구 삭제"}),(0,s.jsx)("button",{type:"button",className:"px-4 py-2 bg-secondary text-secondary-foreground rounded-md hover:bg-secondary/90 transition-colors cursor-pointer",onClick:()=>{r(!1),u("")},disabled:p,children:"취소"})]})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("p",{className:"text-sm mb-4",children:"계정을 삭제하면 모든 개인정보와 레시피, 활동 내역이 영구적으로 삭제됩니다. 이 작업은 취소할 수 없습니다."}),(0,s.jsx)("button",{type:"button",className:"px-4 py-2 bg-destructive text-destructive-foreground rounded-md hover:bg-destructive/90 transition-colors cursor-pointer",onClick:()=>{r(!0)},children:"계정 삭제"})]})]})}},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},27910:e=>{"use strict";e.exports=require("stream")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},29699:(e,t,r)=>{"use strict";function s(){throw Object.defineProperty(Error("`forbidden()` is experimental and only allowed to be enabled when `experimental.authInterrupts` is enabled."),"__NEXT_ERROR_CODE",{value:"E488",enumerable:!1,configurable:!0})}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"forbidden",{enumerable:!0,get:function(){return s}}),r(22859).HTTP_ERROR_FALLBACK_ERROR_CODE,("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},31133:(e,t,r)=>{"use strict";r.d(t,{default:()=>m});var s=r(13486),o=r(60159),n=r(84667);let a=(0,n.A)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),i=(0,n.A)("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),c=(0,n.A)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var d=r(85626),l=r(85519),u=r(98509),p=r(81604);let f=u.z.object({currentPassword:u.z.string().min(1,"현재 비밀번호를 입력해주세요"),newPassword:u.z.string().min(8,"비밀번호는 최소 8자 이상이어야 합니다").regex(/^(?=.*[a-zA-Z])(?=.*\d)(?=.*[!@#$%^&*()_+])[A-Za-z\d!@#$%^&*()_+]{8,}$/,"비밀번호는 영문, 숫자, 특수문자를 포함해야 합니다"),confirmPassword:u.z.string().min(1,"비밀번호 확인을 입력해주세요")}).refine(e=>e.newPassword===e.confirmPassword,{message:"새 비밀번호와 확인 비밀번호가 일치하지 않습니다",path:["confirmPassword"]});function m({userId:e,userEmail:t}){let[r,n]=(0,o.useState)(!1),[u,m]=(0,o.useState)(!1),[h,b]=(0,o.useState)(!1),[x,y]=(0,o.useState)(!1),{register:j,handleSubmit:v,reset:g,formState:{errors:w}}=(0,d.mN)({resolver:(0,l.u)(f)}),_=async t=>{y(!0);try{let r=await fetch("/api/auth/password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e,currentPassword:t.currentPassword,newPassword:t.newPassword})}),s=await r.json();r.ok?(p.oR.success("비밀번호가 성공적으로 변경되었습니다"),g()):p.oR.error(s.error||"비밀번호 변경 중 오류가 발생했습니다")}catch(e){p.oR.error("서버 오류가 발생했습니다. 잠시 후 다시 시도해주세요"),console.error("비밀번호 변경 오류:",e)}finally{y(!1)}};return(0,s.jsxs)("div",{className:"bg-card p-6 rounded-lg shadow-md",children:[(0,s.jsxs)("div",{className:"flex items-center mb-4",children:[(0,s.jsx)(a,{className:"mr-2 text-primary",size:20}),(0,s.jsx)("h2",{className:"text-xl font-semibold",children:"비밀번호 변경"})]}),(0,s.jsxs)("form",{className:"space-y-4",onSubmit:v(_),children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"currentPassword",className:"block text-sm font-medium mb-2",children:"현재 비밀번호"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{type:r?"text":"password",id:"currentPassword",...j("currentPassword"),className:"w-full p-3 rounded-md border border-input bg-background pr-10"}),(0,s.jsx)("button",{type:"button",className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground cursor-pointer",onClick:()=>n(!r),children:r?(0,s.jsx)(i,{size:18}):(0,s.jsx)(c,{size:18})})]}),w.currentPassword&&(0,s.jsx)("p",{className:"text-destructive text-xs mt-1",children:w.currentPassword.message})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"newPassword",className:"block text-sm font-medium mb-2",children:"새 비밀번호"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{type:u?"text":"password",id:"newPassword",...j("newPassword"),className:"w-full p-3 rounded-md border border-input bg-background pr-10"}),(0,s.jsx)("button",{type:"button",className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground cursor-pointer",onClick:()=>m(!u),children:u?(0,s.jsx)(i,{size:18}):(0,s.jsx)(c,{size:18})})]}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"비밀번호는 최소 8자 이상, 영문/숫자/특수문자를 포함해야 합니다."}),w.newPassword&&(0,s.jsx)("p",{className:"text-destructive text-xs mt-1",children:w.newPassword.message})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium mb-2",children:"새 비밀번호 확인"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{type:h?"text":"password",id:"confirmPassword",...j("confirmPassword"),className:"w-full p-3 rounded-md border border-input bg-background pr-10"}),(0,s.jsx)("button",{type:"button",className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground cursor-pointer",onClick:()=>b(!h),children:h?(0,s.jsx)(i,{size:18}):(0,s.jsx)(c,{size:18})})]}),w.confirmPassword&&(0,s.jsx)("p",{className:"text-destructive text-xs mt-1",children:w.confirmPassword.message})]}),(0,s.jsx)("div",{className:"pt-2",children:(0,s.jsx)("button",{type:"submit",disabled:x,className:"px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed cursor-pointer",children:x?"변경 중...":"비밀번호 변경"})})]})]})}},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},38050:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"notFound",{enumerable:!0,get:function(){return o}});let s=""+r(22859).HTTP_ERROR_FALLBACK_ERROR_CODE+";404";function o(){let e=Object.defineProperty(Error(s),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});throw e.digest=s,e}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},42543:(e,t,r)=>{"use strict";var s=r(68855);r.o(s,"notFound")&&r.d(t,{notFound:function(){return s.notFound}}),r.o(s,"redirect")&&r.d(t,{redirect:function(){return s.redirect}})},49600:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{getRedirectError:function(){return a},getRedirectStatusCodeFromError:function(){return u},getRedirectTypeFromError:function(){return l},getURLFromRedirectError:function(){return d},permanentRedirect:function(){return c},redirect:function(){return i}});let s=r(49005),o=r(31903),n=r(19121).actionAsyncStorage;function a(e,t,r){void 0===r&&(r=s.RedirectStatusCode.TemporaryRedirect);let n=Object.defineProperty(Error(o.REDIRECT_ERROR_CODE),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return n.digest=o.REDIRECT_ERROR_CODE+";"+t+";"+e+";"+r+";",n}function i(e,t){var r;throw null!=t||(t=(null==n?void 0:null==(r=n.getStore())?void 0:r.isAction)?o.RedirectType.push:o.RedirectType.replace),a(e,t,s.RedirectStatusCode.TemporaryRedirect)}function c(e,t){throw void 0===t&&(t=o.RedirectType.replace),a(e,t,s.RedirectStatusCode.PermanentRedirect)}function d(e){return(0,o.isRedirectError)(e)?e.digest.split(";").slice(2,-2).join(";"):null}function l(e){if(!(0,o.isRedirectError)(e))throw Object.defineProperty(Error("Not a redirect error"),"__NEXT_ERROR_CODE",{value:"E260",enumerable:!1,configurable:!0});return e.digest.split(";",2)[1]}function u(e){if(!(0,o.isRedirectError)(e))throw Object.defineProperty(Error("Not a redirect error"),"__NEXT_ERROR_CODE",{value:"E260",enumerable:!1,configurable:!0});return Number(e.digest.split(";").at(-2))}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},50627:(e,t,r)=>{Promise.resolve().then(r.bind(r,81070)),Promise.resolve().then(r.bind(r,97770)),Promise.resolve().then(r.bind(r,97672)),Promise.resolve().then(r.t.bind(r,42671,23))},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},68855:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ReadonlyURLSearchParams:function(){return l},RedirectType:function(){return o.RedirectType},forbidden:function(){return a.forbidden},notFound:function(){return n.notFound},permanentRedirect:function(){return s.permanentRedirect},redirect:function(){return s.redirect},unauthorized:function(){return i.unauthorized},unstable_rethrow:function(){return c.unstable_rethrow}});let s=r(49600),o=r(31903),n=r(38050),a=r(29699),i=r(77670),c=r(69938);class d extends Error{constructor(){super("Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams")}}class l extends URLSearchParams{append(){throw new d}delete(){throw new d}set(){throw new d}sort(){throw new d}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},69938:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"unstable_rethrow",{enumerable:!0,get:function(){return s}});let s=r(10097).unstable_rethrow;("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},70393:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(84667).A)("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]])},74075:e=>{"use strict";e.exports=require("zlib")},75735:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>f,metadata:()=>p});var s=r(38828);r(61365);var o=r(42671),n=r.n(o),a=r(78443),i=r(84875),c=r(42543),d=r(97672),l=r(81070),u=r(97770);let p={title:"계정 설정 | 초코야 커피",description:"계정 설정 및 관리 페이지"};async function f(){let e=await (0,i.U)(),{data:{user:t}}=await e.auth.getUser();t?.id||(0,c.redirect)("/auth/login?callbackUrl=/auth/settings");let r=t.id,o=t.email;return(0,s.jsxs)("div",{className:"container mx-auto py-10",children:[(0,s.jsxs)(n(),{href:"/auth/profile",className:"text-primary hover:underline flex items-center mb-6",children:[(0,s.jsx)(a.A,{className:"mr-2",size:16}),"프로필로 돌아가기"]}),(0,s.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"계정 설정"}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)(d.default,{userId:r,userEmail:o}),(0,s.jsx)(u.default,{userId:r}),(0,s.jsx)(l.default,{userId:r})]})]})]})}},77670:(e,t,r)=>{"use strict";function s(){throw Object.defineProperty(Error("`unauthorized()` is experimental and only allowed to be used when `experimental.authInterrupts` is enabled."),"__NEXT_ERROR_CODE",{value:"E411",enumerable:!1,configurable:!0})}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"unauthorized",{enumerable:!0,get:function(){return s}}),r(22859).HTTP_ERROR_FALLBACK_ERROR_CODE,("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},78443:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(68366).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")},81070:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});let s=(0,r(33952).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/jelly/WebstormProjects/chocoya-coffee/app/webserver/src/components/auth/delete-account-section.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/jelly/WebstormProjects/chocoya-coffee/app/webserver/src/components/auth/delete-account-section.tsx","default")},81458:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.default,__next_app__:()=>l,pages:()=>d,routeModule:()=>u,tree:()=>c});var s=r(24332),o=r(48819),n=r(84423),a=r(97540),i={};for(let e in a)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>a[e]);r.d(t,i);let c={children:["",{children:["auth",{children:["settings",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,75735)),"/Users/jelly/WebstormProjects/chocoya-coffee/app/webserver/src/app/auth/settings/page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,9699))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,5910)),"/Users/jelly/WebstormProjects/chocoya-coffee/app/webserver/src/app/layout.tsx"],error:[()=>Promise.resolve().then(r.bind(r,80765)),"/Users/jelly/WebstormProjects/chocoya-coffee/app/webserver/src/app/error.tsx"],"global-error":[()=>Promise.resolve().then(r.bind(r,84423)),"/Users/jelly/WebstormProjects/chocoya-coffee/app/webserver/src/app/global-error.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,19033,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,39956,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,92341,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,9699))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,d=["/Users/jelly/WebstormProjects/chocoya-coffee/app/webserver/src/app/auth/settings/page.tsx"],l={require:r,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:o.RouteKind.APP_PAGE,page:"/auth/settings/page",pathname:"/auth/settings",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},81630:e=>{"use strict";e.exports=require("http")},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")},96330:e=>{"use strict";e.exports=require("@prisma/client")},97164:(e,t,r)=>{"use strict";r.d(t,{default:()=>i});var s=r(13486),o=r(60159);let n=(0,r(84667).A)("Bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);var a=r(81604);function i({userId:e}){let[t,r]=(0,o.useState)({emailNotifications:!0,newRecipeNotifications:!0,marketingNotifications:!1,securityNotifications:!0}),[i,c]=(0,o.useState)(!0),[d,l]=(0,o.useState)(!1),u=e=>{r(t=>({...t,[e]:!t[e]}))},p=async()=>{l(!0);try{let r=await fetch(`/api/users/${e}/notifications`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({preferences:t})});if(r.ok)a.oR.success("알림 설정이 저장되었습니다");else{let e=await r.json();a.oR.error(e.error||"알림 설정 저장 중 오류가 발생했습니다")}}catch(e){console.error("알림 설정 저장 오류:",e),a.oR.error("서버 오류가 발생했습니다. 잠시 후 다시 시도해주세요")}finally{l(!1)}};return i?(0,s.jsxs)("div",{className:"bg-card p-6 rounded-lg shadow-md",children:[(0,s.jsxs)("div",{className:"flex items-center mb-4",children:[(0,s.jsx)(n,{className:"mr-2 text-primary",size:20}),(0,s.jsx)("h2",{className:"text-xl font-semibold",children:"알림 설정"})]}),(0,s.jsx)("div",{className:"flex justify-center p-4",children:(0,s.jsx)("span",{className:"text-muted-foreground",children:"로딩 중..."})})]}):(0,s.jsxs)("div",{className:"bg-card p-6 rounded-lg shadow-md",children:[(0,s.jsxs)("div",{className:"flex items-center mb-4",children:[(0,s.jsx)(n,{className:"mr-2 text-primary",size:20}),(0,s.jsx)("h2",{className:"text-xl font-semibold",children:"알림 설정"})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("label",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{children:"이메일 알림"}),(0,s.jsx)("input",{type:"checkbox",checked:t.emailNotifications,onChange:()=>u("emailNotifications")})]}),(0,s.jsxs)("label",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{children:"새 레시피 알림"}),(0,s.jsx)("input",{type:"checkbox",checked:t.newRecipeNotifications,onChange:()=>u("newRecipeNotifications")})]}),(0,s.jsxs)("label",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{children:"마케팅 알림"}),(0,s.jsx)("input",{type:"checkbox",checked:t.marketingNotifications,onChange:()=>u("marketingNotifications")})]}),(0,s.jsxs)("label",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{children:"보안 알림"}),(0,s.jsx)("input",{type:"checkbox",checked:t.securityNotifications,onChange:()=>u("securityNotifications")})]})]}),(0,s.jsx)("div",{className:"mt-4",children:(0,s.jsx)("button",{type:"button",className:"px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed cursor-pointer",onClick:p,disabled:d,children:d?"저장 중...":"설정 저장"})})]})}},97672:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});let s=(0,r(33952).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/jelly/WebstormProjects/chocoya-coffee/app/webserver/src/components/auth/password-change-form.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/jelly/WebstormProjects/chocoya-coffee/app/webserver/src/components/auth/password-change-form.tsx","default")},97770:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});let s=(0,r(33952).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/jelly/WebstormProjects/chocoya-coffee/app/webserver/src/components/auth/notification-settings.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/jelly/WebstormProjects/chocoya-coffee/app/webserver/src/components/auth/notification-settings.tsx","default")}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[191,3395,5208,3796,4058,1253,7759,856],()=>r(81458));module.exports=s})();