(()=>{var e={};e.id=3310,e.ids=[3310],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9699:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var o=r(41253);let s=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,o.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},9708:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,42671,23))},10097:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"unstable_rethrow",{enumerable:!0,get:function(){return function e(t){if((0,n.isNextRouterError)(t)||(0,a.isBailoutToCSRError)(t)||(0,l.isDynamicServerError)(t)||(0,i.isDynamicPostpone)(t)||(0,s.isPostpone)(t)||(0,o.isHangingPromiseRejectionError)(t))throw t;t instanceof Error&&"cause"in t&&e(t.cause)}}});let o=r(46049),s=r(72610),a=r(90507),n=r(5631),i=r(94924),l=r(8194);("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11997:e=>{"use strict";e.exports=require("punycode")},15788:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,49989,23))},17934:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>p,metadata:()=>f});var o=r(38828);r(61365);var s=r(42671),a=r.n(s),n=r(79745),i=r(20065),l=r(50495),d=r(84875),c=r(42543),u=r(43128);let f={title:"맛 노트 | 초코야 커피",description:"나만의 커피 맛 노트를 기록하고 관리하세요"};async function p(){let e=await (0,d.U)(),{data:{user:t}}=await e.auth.getUser();t?.id||(0,c.redirect)("/auth/login?callbackUrl=/taste-notes");let r=await (0,l.rO)(t.id);return(0,o.jsxs)("div",{className:"container px-4 md:px-6 py-6 md:py-10",children:[(0,o.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,o.jsxs)("h1",{className:"text-2xl md:text-3xl font-bold flex items-center",children:[(0,o.jsx)(n.A,{className:"mr-2"})," 내 맛 노트"]}),(0,o.jsxs)(a(),{href:"/taste-notes/create",className:"inline-flex items-center px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors",children:[(0,o.jsx)(i.A,{size:16,className:"mr-1"})," 새 맛 노트"]})]}),0===r.length?(0,o.jsxs)("div",{className:"bg-card border rounded-lg p-8 text-center",children:[(0,o.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"맛 노트가 없습니다"}),(0,o.jsx)("p",{className:"text-muted-foreground mb-6",children:"맛 노트를 작성하여 나만의 커피 경험을 기록해보세요."}),(0,o.jsxs)(a(),{href:"/taste-notes/create",className:"inline-flex items-center px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors",children:[(0,o.jsx)(i.A,{size:16,className:"mr-1"})," 첫 맛 노트 작성하기"]})]}):(0,o.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(e=>(0,o.jsx)(a(),{href:`/taste-notes/${e.id}`,passHref:!0,children:(0,o.jsxs)("div",{className:"bg-card border rounded-lg p-4 hover:shadow-md transition-shadow cursor-pointer h-full flex flex-col",style:{borderLeft:e.primaryColor?`4px solid ${e.primaryColor}`:void 0},children:[(0,o.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,o.jsx)("h2",{className:"text-lg font-semibold",children:e.coffeeName}),(0,o.jsx)("div",{className:"bg-primary/10 text-primary text-xs rounded-full px-2 py-1",children:e.brewingMethod})]}),(0,o.jsxs)("div",{className:"mb-4 flex-grow",children:[(0,o.jsxs)("div",{className:"grid grid-cols-3 gap-2 mb-2",children:[(0,o.jsxs)("div",{className:"text-center",children:[(0,o.jsx)("p",{className:"text-xs text-muted-foreground",children:"산미"}),(0,o.jsxs)("p",{className:"font-semibold",children:[e.acidity,"/10"]})]}),(0,o.jsxs)("div",{className:"text-center",children:[(0,o.jsx)("p",{className:"text-xs text-muted-foreground",children:"단맛"}),(0,o.jsxs)("p",{className:"font-semibold",children:[e.sweetness,"/10"]})]}),(0,o.jsxs)("div",{className:"text-center",children:[(0,o.jsx)("p",{className:"text-xs text-muted-foreground",children:"바디"}),(0,o.jsxs)("p",{className:"font-semibold",children:[e.body,"/10"]})]})]}),e.flavorNotes&&(0,o.jsx)("p",{className:"text-sm text-muted-foreground line-clamp-2",children:e.flavorNotes})]}),(0,o.jsx)("div",{className:"text-xs text-muted-foreground",children:(0,u.o)(e.createdAt,{showWeekday:!0})})]})},e.id))})]})}},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},20065:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});let o=(0,r(68366).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},27910:e=>{"use strict";e.exports=require("stream")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},29699:(e,t,r)=>{"use strict";function o(){throw Object.defineProperty(Error("`forbidden()` is experimental and only allowed to be enabled when `experimental.authInterrupts` is enabled."),"__NEXT_ERROR_CODE",{value:"E488",enumerable:!1,configurable:!0})}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"forbidden",{enumerable:!0,get:function(){return o}}),r(22859).HTTP_ERROR_FALLBACK_ERROR_CODE,("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},38050:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"notFound",{enumerable:!0,get:function(){return s}});let o=""+r(22859).HTTP_ERROR_FALLBACK_ERROR_CODE+";404";function s(){let e=Object.defineProperty(Error(o),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});throw e.digest=o,e}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},42543:(e,t,r)=>{"use strict";var o=r(68855);r.o(o,"notFound")&&r.d(t,{notFound:function(){return o.notFound}}),r.o(o,"redirect")&&r.d(t,{redirect:function(){return o.redirect}})},45463:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>a.default,__next_app__:()=>c,pages:()=>d,routeModule:()=>u,tree:()=>l});var o=r(24332),s=r(48819),a=r(84423),n=r(97540),i={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>n[e]);r.d(t,i);let l={children:["",{children:["taste-notes",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,17934)),"/Users/jelly/WebstormProjects/chocoya-coffee/app/webserver/src/app/taste-notes/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,9699))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,5910)),"/Users/jelly/WebstormProjects/chocoya-coffee/app/webserver/src/app/layout.tsx"],error:[()=>Promise.resolve().then(r.bind(r,80765)),"/Users/jelly/WebstormProjects/chocoya-coffee/app/webserver/src/app/error.tsx"],"global-error":[()=>Promise.resolve().then(r.bind(r,84423)),"/Users/jelly/WebstormProjects/chocoya-coffee/app/webserver/src/app/global-error.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,19033,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,39956,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,92341,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,9699))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,d=["/Users/jelly/WebstormProjects/chocoya-coffee/app/webserver/src/app/taste-notes/page.tsx"],c={require:r,loadChunk:()=>Promise.resolve()},u=new o.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/taste-notes/page",pathname:"/taste-notes",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},49600:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{getRedirectError:function(){return n},getRedirectStatusCodeFromError:function(){return u},getRedirectTypeFromError:function(){return c},getURLFromRedirectError:function(){return d},permanentRedirect:function(){return l},redirect:function(){return i}});let o=r(49005),s=r(31903),a=r(19121).actionAsyncStorage;function n(e,t,r){void 0===r&&(r=o.RedirectStatusCode.TemporaryRedirect);let a=Object.defineProperty(Error(s.REDIRECT_ERROR_CODE),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return a.digest=s.REDIRECT_ERROR_CODE+";"+t+";"+e+";"+r+";",a}function i(e,t){var r;throw null!=t||(t=(null==a?void 0:null==(r=a.getStore())?void 0:r.isAction)?s.RedirectType.push:s.RedirectType.replace),n(e,t,o.RedirectStatusCode.TemporaryRedirect)}function l(e,t){throw void 0===t&&(t=s.RedirectType.replace),n(e,t,o.RedirectStatusCode.PermanentRedirect)}function d(e){return(0,s.isRedirectError)(e)?e.digest.split(";").slice(2,-2).join(";"):null}function c(e){if(!(0,s.isRedirectError)(e))throw Object.defineProperty(Error("Not a redirect error"),"__NEXT_ERROR_CODE",{value:"E260",enumerable:!1,configurable:!0});return e.digest.split(";",2)[1]}function u(e){if(!(0,s.isRedirectError)(e))throw Object.defineProperty(Error("Not a redirect error"),"__NEXT_ERROR_CODE",{value:"E260",enumerable:!1,configurable:!0});return Number(e.digest.split(";").at(-2))}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},50495:(e,t,r)=>{"use strict";r.d(t,{Ud:()=>d,Us:()=>u,bR:()=>p,rO:()=>c,xx:()=>f});var o=r(10841);r(10935);var s=r(30194),a=r(44627),n=r(16151),i=r(52943);let l=n.z.object({coffeeName:n.z.string().min(1,{message:"원두 이름을 입력해주세요."}),origin:n.z.string().optional(),roastLevel:n.z.string().optional(),roaster:n.z.string().optional(),brewingMethod:n.z.string().min(1,{message:"추출 방식을 선택해주세요."}),grindSize:n.z.string().optional(),beanAmount:n.z.string().optional(),waterAmount:n.z.string().optional(),waterTemp:n.z.string().optional(),brewTime:n.z.string().optional(),ratio:n.z.string().optional(),overallRating:n.z.coerce.number().min(1).max(5).optional(),acidity:n.z.coerce.number().min(1).max(10).optional(),sweetness:n.z.coerce.number().min(1).max(10).optional(),body:n.z.coerce.number().min(1).max(10).optional(),bitterness:n.z.coerce.number().min(1).max(10).optional(),flavorNotes:n.z.string().optional(),flavorLabels:n.z.string().optional(),flavorColors:n.z.string().optional(),primaryColor:n.z.string().optional(),notes:n.z.string().optional(),recipeId:n.z.string().optional().nullable(),beanId:n.z.string().optional().nullable()});async function d(e,t,r){let o=l.safeParse({coffeeName:r.get("coffeeName"),origin:r.get("origin"),roastLevel:r.get("roastLevel"),roaster:r.get("roaster"),brewingMethod:r.get("brewingMethod"),grindSize:r.get("grindSize"),beanAmount:r.get("beanAmount"),waterAmount:r.get("waterAmount"),waterTemp:r.get("waterTemp"),brewTime:r.get("brewTime"),ratio:r.get("ratio"),overallRating:r.get("overallRating"),acidity:r.get("acidity"),sweetness:r.get("sweetness"),body:r.get("body"),bitterness:r.get("bitterness"),flavorNotes:r.get("flavorNotes"),flavorLabels:r.get("flavorLabels"),flavorColors:r.get("flavorColors"),primaryColor:r.get("primaryColor"),notes:r.get("notes"),recipeId:r.get("recipeId"),beanId:r.get("beanId")});if(!o.success)return{errors:o.error.flatten().fieldErrors,message:"입력 정보를 확인해주세요."};let{coffeeName:n,origin:i,roastLevel:d,roaster:c,brewingMethod:u,grindSize:f,beanAmount:p,waterAmount:m,waterTemp:b,brewTime:g,ratio:x,overallRating:h,acidity:y,sweetness:v,body:_,bitterness:j,flavorNotes:R,flavorLabels:w,flavorColors:P,primaryColor:E,notes:O,recipeId:N,beanId:z}=o.data;try{return await a.zR.tasteNote.create({data:{coffeeName:n,origin:i,roastLevel:d,roaster:c,brewingMethod:u,grindSize:f,beanAmount:p,waterAmount:m,waterTemp:b,brewTime:g,ratio:x,overallRating:h,acidity:y,sweetness:v,body:_,bitterness:j,flavorNotes:R,flavorLabels:w,flavorColors:P,primaryColor:E,notes:O,recipeId:N,beanId:z,userId:e}}),N&&(0,s.revalidatePath)(`/recipes/${N}`),(0,s.revalidatePath)("/taste-notes"),{message:"맛 노트가 성공적으로 저장되었습니다."}}catch(e){return console.error("맛 노트 생성 오류:",e),{errors:{_form:["맛 노트 저장 중 오류가 발생했습니다. 다시 시도해주세요."]}}}}async function c(e){try{return await a.zR.tasteNote.findMany({where:{userId:e},include:{recipe:{select:{id:!0,title:!0}}},orderBy:{createdAt:"desc"}})}catch(e){throw console.error("맛 노트 조회 오류:",e),Error("맛 노트를 불러오는 중 오류가 발생했습니다.")}}async function u(e,t){try{return await a.zR.tasteNote.findUnique({where:{id:e,userId:t},include:{recipe:{select:{id:!0,title:!0}}}})}catch(e){throw console.error("맛 노트 상세 조회 오류:",e),Error("맛 노트를 불러오는 중 오류가 발생했습니다.")}}async function f(e,t,r,o){let n=l.safeParse({coffeeName:o.get("coffeeName"),origin:o.get("origin"),roastLevel:o.get("roastLevel"),roaster:o.get("roaster"),brewingMethod:o.get("brewingMethod"),grindSize:o.get("grindSize"),beanAmount:o.get("beanAmount"),waterAmount:o.get("waterAmount"),waterTemp:o.get("waterTemp"),brewTime:o.get("brewTime"),ratio:o.get("ratio"),overallRating:o.get("overallRating"),acidity:o.get("acidity"),sweetness:o.get("sweetness"),body:o.get("body"),bitterness:o.get("bitterness"),flavorNotes:o.get("flavorNotes"),flavorLabels:o.get("flavorLabels"),flavorColors:o.get("flavorColors"),primaryColor:o.get("primaryColor"),notes:o.get("notes"),recipeId:o.get("recipeId"),beanId:o.get("beanId")});if(!n.success)return{errors:n.error.flatten().fieldErrors,message:"입력 정보를 확인해주세요."};let i=await a.zR.tasteNote.findUnique({where:{id:e},select:{userId:!0}});if(!i||i.userId!==t)return{errors:{_form:["맛 노트를 수정할 권한이 없습니다."]}};let{coffeeName:d,origin:c,roastLevel:u,roaster:f,brewingMethod:p,grindSize:m,beanAmount:b,waterAmount:g,waterTemp:x,brewTime:h,ratio:y,overallRating:v,acidity:_,sweetness:j,body:R,bitterness:w,flavorNotes:P,flavorLabels:E,flavorColors:O,primaryColor:N,notes:z,recipeId:C,beanId:M}=n.data;try{return await a.zR.tasteNote.update({where:{id:e},data:{coffeeName:d,origin:c,roastLevel:u,roaster:f,brewingMethod:p,grindSize:m,beanAmount:b,waterAmount:g,waterTemp:x,brewTime:h,ratio:y,overallRating:v,acidity:_,sweetness:j,body:R,bitterness:w,flavorNotes:P,flavorLabels:E,flavorColors:O,primaryColor:N,notes:z,recipeId:C,beanId:M}}),C&&(0,s.revalidatePath)(`/recipes/${C}`),(0,s.revalidatePath)("/taste-notes"),(0,s.revalidatePath)(`/taste-notes/${e}`),{message:"맛 노트가 성공적으로 수정되었습니다."}}catch(e){return console.error("맛 노트 수정 오류:",e),{errors:{_form:["맛 노트 수정 중 오류가 발생했습니다. 다시 시도해주세요."]}}}}async function p(e,t){try{let r=await a.zR.tasteNote.findUnique({where:{id:e},select:{userId:!0}});if(!r||r.userId!==t)return{success:!1,message:"맛 노트를 삭제할 권한이 없습니다."};return await a.zR.tasteNote.delete({where:{id:e}}),(0,s.revalidatePath)("/taste-notes"),{success:!0,message:"맛 노트가 성공적으로 삭제되었습니다."}}catch(e){return console.error("맛 노트 삭제 오류:",e),{success:!1,message:"맛 노트 삭제 중 오류가 발생했습니다. 다시 시도해주세요."}}}(0,i.D)([d,c,u,f,p]),(0,o.A)(d,"706ac7a9d56f17f0fb902edde42346cf8c62685798",null),(0,o.A)(c,"408191d41010e8e74369d10f04490452deec48a802",null),(0,o.A)(u,"60656bf6eb9cde1a757d9c13ae21fe84e52646eddc",null),(0,o.A)(f,"785c7abb38e866a5f9396fbcf3b432543699990c22",null),(0,o.A)(p,"609f95c8c84f1d849c956e7b65bb9f9c4ca3a7d04a",null)},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},68855:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ReadonlyURLSearchParams:function(){return c},RedirectType:function(){return s.RedirectType},forbidden:function(){return n.forbidden},notFound:function(){return a.notFound},permanentRedirect:function(){return o.permanentRedirect},redirect:function(){return o.redirect},unauthorized:function(){return i.unauthorized},unstable_rethrow:function(){return l.unstable_rethrow}});let o=r(49600),s=r(31903),a=r(38050),n=r(29699),i=r(77670),l=r(69938);class d extends Error{constructor(){super("Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams")}}class c extends URLSearchParams{append(){throw new d}delete(){throw new d}set(){throw new d}sort(){throw new d}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},69938:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"unstable_rethrow",{enumerable:!0,get:function(){return o}});let o=r(10097).unstable_rethrow;("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},74075:e=>{"use strict";e.exports=require("zlib")},77670:(e,t,r)=>{"use strict";function o(){throw Object.defineProperty(Error("`unauthorized()` is experimental and only allowed to be used when `experimental.authInterrupts` is enabled."),"__NEXT_ERROR_CODE",{value:"E411",enumerable:!1,configurable:!0})}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"unauthorized",{enumerable:!0,get:function(){return o}}),r(22859).HTTP_ERROR_FALLBACK_ERROR_CODE,("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},82221:(e,t,r)=>{"use strict";r.r(t),r.d(t,{"408191d41010e8e74369d10f04490452deec48a802":()=>o.rO,"60656bf6eb9cde1a757d9c13ae21fe84e52646eddc":()=>o.Us,"609f95c8c84f1d849c956e7b65bb9f9c4ca3a7d04a":()=>o.bR,"706ac7a9d56f17f0fb902edde42346cf8c62685798":()=>o.Ud,"785c7abb38e866a5f9396fbcf3b432543699990c22":()=>o.xx});var o=r(50495)},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")},96330:e=>{"use strict";e.exports=require("@prisma/client")}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),o=t.X(0,[191,3395,5208,3796,4058,1253,1344,6151,856],()=>r(45463));module.exports=o})();