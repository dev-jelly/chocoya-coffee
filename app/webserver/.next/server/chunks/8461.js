exports.id=8461,exports.ids=[8461],exports.modules={2610:(e,a,r)=>{Promise.resolve().then(r.bind(r,90542)),Promise.resolve().then(r.t.bind(r,49989,23))},39562:(e,a,r)=>{Promise.resolve().then(r.bind(r,63550)),Promise.resolve().then(r.t.bind(r,42671,23))},63550:(e,a,r)=>{"use strict";r.d(a,{default:()=>o});let o=(0,r(33952).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/jelly/WebstormProjects/chocoya-coffee/app/webserver/src/components/bean/bean-form.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/jelly/WebstormProjects/chocoya-coffee/app/webserver/src/components/bean/bean-form.tsx","default")},90542:(e,a,r)=>{"use strict";r.d(a,{default:()=>b});var o=r(13486),n=r(60159),i=r(2984),l=r(80546),t=r(70358);let s=(0,t.createServerReference)("7814bbd4645cf52ef71e339537b3bdfc20cb9aed38",t.callServer,void 0,t.findSourceMapURL,"updateBean"),d=(0,t.createServerReference)("7094e3ba894d8125ad170d6181026c57ac27925c57",t.callServer,void 0,t.findSourceMapURL,"createBean"),m=[{id:"ethiopia",name:"에티오피아",major:!0},{id:"kenya",name:"케냐",major:!0},{id:"colombia",name:"콜롬비아",major:!0},{id:"guatemala",name:"과테말라",major:!0},{id:"panama",name:"파나마",major:!0},{id:"costa_rica",name:"코스타리카",major:!0},{id:"rwanda",name:"르완다",major:!0},{id:"el_salvador",name:"엘살바도르",major:!0},{id:"nicaragua",name:"니카라과",major:!0},{id:"honduras",name:"온두라스",major:!0},{id:"burundi",name:"부룬디",major:!0},{id:"yemen",name:"예멘",major:!0},{id:"tanzania",name:"탄자니아",major:!0},{id:"peru",name:"페루",major:!0},{id:"brazil",name:"브라질",major:!1},{id:"vietnam",name:"베트남",major:!1},{id:"indonesia",name:"인도네시아",major:!1},{id:"india",name:"인도",major:!1},{id:"uganda",name:"우간다",major:!1},{id:"mexico",name:"멕시코",major:!1},{id:"ecuador",name:"에콰도르",major:!1},{id:"papua_new_guinea",name:"파푸아뉴기니",major:!1},{id:"jamaica",name:"자메이카",major:!1},{id:"thailand",name:"태국",major:!1},{id:"laos",name:"라오스",major:!1},{id:"china",name:"중국",major:!1},{id:"dominican_republic",name:"도미니카 공화국",major:!1},{id:"cuba",name:"쿠바",major:!1},{id:"haiti",name:"아이티",major:!1},{id:"bolivia",name:"볼리비아",major:!1}],c=()=>[...m.filter(e=>e.major),...m.filter(e=>!e.major)];var u=r(11892),p=r(51978);function b({userId:e,bean:a,isEditing:r=!1}){let t=(0,i.useRouter)(),{toast:m}=(0,l.dj)(),[b,h]=(0,n.useState)(!1),[j,x]=(0,n.useState)(a?.flavorLabels?a.flavorLabels.split(",").filter(Boolean):[]),v=c(),[f,g]=(0,n.useState)({name:a?.name||"",origin:a?.origin||"",region:a?.region||"",farm:a?.farm||"",altitude:a?.altitude||"",process:a?.process||"",variety:a?.variety||"",roastLevel:a?.roastLevel||"",roaster:a?.roaster||"",description:a?.description||"",isPublic:a?.isPublic??!0}),y=e=>{let{name:a,value:r}=e.target;g(e=>({...e,[a]:r}))},N=async o=>{o.preventDefault(),h(!0);try{let o=new FormData;if(Object.entries(f).forEach(([e,a])=>{null!=a&&o.append(e,a.toString())}),j.length>0){o.append("flavorLabels",j.join(","));let e=j.map(e=>p.mj.find(a=>a.id===e)).filter(Boolean),a=e.map(e=>e?.color).join(",");o.append("flavorColors",a),e.length>0&&e[0]?.color&&o.append("primaryColor",e[0].color);let r=e.map(e=>e?.name).join(", ");o.append("flavorNotes",r)}let n=r?await s(a.id,e,{},o):await d(e,{},o);n.errors?m({title:"원두 정보 저장 실패",description:n.message||"원두 정보를 저장하는 중 오류가 발생했습니다.",variant:"destructive"}):(m({title:"원두 정보 저장 성공",description:"원두 정보가 성공적으로 저장되었습니다."}),t.push("/beans"))}catch(e){console.error("Error submitting form:",e),m({title:"원두 정보 저장 실패",description:"서버 오류가 발생했습니다. 다시 시도해주세요.",variant:"destructive"})}finally{h(!1)}};return(0,o.jsxs)("form",{onSubmit:N,className:"space-y-6",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"기본 정보"}),(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,o.jsxs)("div",{children:[(0,o.jsxs)("label",{htmlFor:"name",className:"block text-sm font-medium mb-1",children:["원두 이름 ",(0,o.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,o.jsx)("input",{type:"text",id:"name",name:"name",value:f.name,onChange:y,required:!0,placeholder:"예: 에티오피아 예가체프",className:"w-full p-3 rounded-md border border-input bg-background"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"origin",className:"block text-sm font-medium mb-1",children:"원산지"}),(0,o.jsxs)("select",{id:"origin",name:"origin",value:f.origin,onChange:y,className:"w-full p-3 rounded-md border border-input bg-background",children:[(0,o.jsx)("option",{value:"",children:"원산지 선택"}),(0,o.jsx)("optgroup",{label:"주요 커피 생산국",children:v.filter(e=>e.major).map(e=>(0,o.jsx)("option",{value:e.id,children:e.name},e.id))}),(0,o.jsx)("optgroup",{label:"기타 생산국",children:v.filter(e=>!e.major).map(e=>(0,o.jsx)("option",{value:e.id,children:e.name},e.id))})]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"region",className:"block text-sm font-medium mb-1",children:"지역"}),(0,o.jsx)("input",{type:"text",id:"region",name:"region",value:f.region,onChange:y,placeholder:"예: 예가체프",className:"w-full p-3 rounded-md border border-input bg-background"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"farm",className:"block text-sm font-medium mb-1",children:"농장명"}),(0,o.jsx)("input",{type:"text",id:"farm",name:"farm",value:f.farm,onChange:y,placeholder:"예: 아리차",className:"w-full p-3 rounded-md border border-input bg-background"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"altitude",className:"block text-sm font-medium mb-1",children:"고도 (m)"}),(0,o.jsx)("input",{type:"number",id:"altitude",name:"altitude",value:f.altitude,onChange:y,placeholder:"예: 1900",min:"0",step:"10",className:"w-full p-3 rounded-md border border-input bg-background"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"process",className:"block text-sm font-medium mb-1",children:"프로세스"}),(0,o.jsxs)("select",{id:"process",name:"process",value:f.process,onChange:y,className:"w-full p-3 rounded-md border border-input bg-background",children:[(0,o.jsx)("option",{value:"",children:"프로세스 선택"}),(0,o.jsx)("option",{value:"워시드",children:"워시드"}),(0,o.jsx)("option",{value:"내추럴",children:"내추럴"}),(0,o.jsx)("option",{value:"허니",children:"허니"}),(0,o.jsx)("option",{value:"펄프드 내추럴",children:"펄프드 내추럴"}),(0,o.jsx)("option",{value:"웻 헐드",children:"웻 헐드"}),(0,o.jsx)("option",{value:"기타",children:"기타"})]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"variety",className:"block text-sm font-medium mb-1",children:"품종"}),(0,o.jsx)("input",{type:"text",id:"variety",name:"variety",value:f.variety,onChange:y,placeholder:"예: 게이샤, 부르봉, 카투라",className:"w-full p-3 rounded-md border border-input bg-background"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"roastLevel",className:"block text-sm font-medium mb-1",children:"로스팅 단계"}),(0,o.jsxs)("select",{id:"roastLevel",name:"roastLevel",value:f.roastLevel,onChange:y,className:"w-full p-3 rounded-md border border-input bg-background",children:[(0,o.jsx)("option",{value:"",children:"로스팅 단계 선택"}),(0,o.jsx)("option",{value:"라이트",children:"라이트 로스트"}),(0,o.jsx)("option",{value:"미디엄 라이트",children:"미디엄 라이트 로스트"}),(0,o.jsx)("option",{value:"미디엄",children:"미디엄 로스트"}),(0,o.jsx)("option",{value:"미디엄 다크",children:"미디엄 다크 로스트"}),(0,o.jsx)("option",{value:"다크",children:"다크 로스트"})]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"roaster",className:"block text-sm font-medium mb-1",children:"로스터리"}),(0,o.jsx)("input",{type:"text",id:"roaster",name:"roaster",value:f.roaster,onChange:y,placeholder:"예: 센트커피",className:"w-full p-3 rounded-md border border-input bg-background"})]})]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"향미 프로필"}),(0,o.jsx)("p",{className:"text-muted-foreground mb-4",children:"이 원두가 가진 향미 노트를 선택해주세요. 여러 개 선택 가능합니다."}),(0,o.jsx)(u.Z,{selectedLabels:j,onChange:e=>x(e)})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"설명"}),(0,o.jsx)("textarea",{id:"description",name:"description",rows:5,value:f.description,onChange:y,placeholder:"원두에 대한 설명이나 추가 정보를 입력하세요",className:"w-full p-3 rounded-md border border-input bg-background resize-none"})]}),(0,o.jsxs)("div",{className:"flex items-center gap-2",children:[(0,o.jsx)("input",{type:"checkbox",id:"isPublic",name:"isPublic",checked:f.isPublic,onChange:e=>{let{name:a,checked:r}=e.target;g(e=>({...e,[a]:r}))},className:"rounded text-primary"}),(0,o.jsx)("label",{htmlFor:"isPublic",className:"text-sm",children:"이 원두 정보를 다른 사용자에게 공개합니다."})]}),(0,o.jsxs)("div",{className:"flex justify-end gap-3 pt-4",children:[(0,o.jsx)("button",{type:"button",onClick:()=>t.push("/beans"),disabled:b,className:"px-4 py-2 border border-input rounded-md hover:bg-accent transition-colors",children:"취소"}),(0,o.jsx)("button",{type:"submit",disabled:b,className:"px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors",children:b?"저장 중...":r?"수정하기":"등록하기"})]})]})}}};