exports.id=8913,exports.ids=[8913],exports.modules={23025:(e,s,t)=>{"use strict";t.d(s,{p:()=>n});var r=t(13486),i=t(60159),a=t(26518);let n=i.forwardRef(({className:e,type:s,...t},i)=>(0,r.jsx)("input",{type:s,className:(0,a.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:i,...t}));n.displayName="Input"},29680:(e,s,t)=>{Promise.resolve().then(t.bind(t,52649)),Promise.resolve().then(t.t.bind(t,49989,23))},41571:(e,s,t)=>{"use strict";t.d(s,{J:()=>n});var r=t(13486),i=t(60159),a=t(26518);let n=i.forwardRef(({className:e,...s},t)=>(0,r.jsx)("label",{ref:t,className:(0,a.cn)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",e),...s}));n.displayName="Label"},52649:(e,s,t)=>{"use strict";t.d(s,{GrinderForm:()=>I});var r=t(13486),i=t(60159),a=t(2984),n=t(85626),d=t(85519),l=t(98509),o=t(58560),c=t(37558),m=t(15577),p=t(70358);let x=(0,p.createServerReference)("609040d7801287eee927927e2a7433f58bda2cc5a0",p.callServer,void 0,p.findSourceMapURL,"updateGrinder"),u=(0,p.createServerReference)("4057da01a1dedce3831aa62d6027cb70fc05ab7149",p.callServer,void 0,p.findSourceMapURL,"createGrinder");var h=t(74941),f=t(23025),j=t(26518);let g=i.forwardRef(({className:e,...s},t)=>(0,r.jsx)("textarea",{className:(0,j.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:t,...s}));function b({className:e,...s}){return(0,r.jsx)("div",{"data-slot":"card",className:(0,j.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...s})}function y({className:e,...s}){return(0,r.jsx)("div",{"data-slot":"card-content",className:(0,j.cn)("px-6",e),...s})}function v({className:e,...s}){return(0,r.jsx)("div",{"data-slot":"card-footer",className:(0,j.cn)("flex items-center px-6",e),...s})}g.displayName="Textarea";var N=t(41571),w=t(73527),_=t(68689),k=t(25704),S=t(49391);let z=w.bL;w.YJ;let T=w.WT,F=i.forwardRef(({className:e,children:s,...t},i)=>(0,r.jsxs)(w.l9,{ref:i,className:(0,j.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...t,children:[s,(0,r.jsx)(w.In,{asChild:!0,children:(0,r.jsx)(_.A,{className:"h-4 w-4 opacity-50"})})]}));F.displayName=w.l9.displayName;let A=i.forwardRef(({className:e,...s},t)=>(0,r.jsx)(w.PP,{ref:t,className:(0,j.cn)("flex cursor-default items-center justify-center py-1",e),...s,children:(0,r.jsx)(k.A,{className:"h-4 w-4"})}));A.displayName=w.PP.displayName;let R=i.forwardRef(({className:e,...s},t)=>(0,r.jsx)(w.wn,{ref:t,className:(0,j.cn)("flex cursor-default items-center justify-center py-1",e),...s,children:(0,r.jsx)(_.A,{className:"h-4 w-4"})}));R.displayName=w.wn.displayName;let $=i.forwardRef(({className:e,children:s,position:t="popper",...i},a)=>(0,r.jsx)(w.ZL,{children:(0,r.jsxs)(w.UC,{ref:a,className:(0,j.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===t&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:t,...i,children:[(0,r.jsx)(A,{}),(0,r.jsx)(w.LM,{className:(0,j.cn)("p-1","popper"===t&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),(0,r.jsx)(R,{})]})}));$.displayName=w.UC.displayName,i.forwardRef(({className:e,...s},t)=>(0,r.jsx)(w.JU,{ref:t,className:(0,j.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...s})).displayName=w.JU.displayName;let J=i.forwardRef(({className:e,children:s,...t},i)=>(0,r.jsxs)(w.q7,{ref:i,className:(0,j.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...t,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(w.VF,{children:(0,r.jsx)(S.A,{className:"h-4 w-4"})})}),(0,r.jsx)(w.p4,{children:s})]}));J.displayName=w.q7.displayName,i.forwardRef(({className:e,...s},t)=>(0,r.jsx)(w.wv,{ref:t,className:(0,j.cn)("-mx-1 my-1 h-px bg-muted",e),...s})).displayName=w.wv.displayName;var M=t(80546);let U=l.z.object({id:l.z.string().optional(),name:l.z.string().min(1,"이름을 입력해주세요"),name_ko:l.z.string().min(1,"한글 이름을 입력해주세요"),brand:l.z.string().min(1,"브랜드를 입력해주세요"),type:l.z.string().min(1,"타입을 선택해주세요"),burr:l.z.string().optional(),burrSize:l.z.string().optional(),adjustmentType:l.z.string().min(1,"조절 방식을 선택해주세요"),description:l.z.string().optional(),description_ko:l.z.string().optional(),imageUrl:l.z.string().optional(),settings:l.z.array(l.z.object({id:l.z.string().optional(),name:l.z.string().min(1,"설정 이름을 입력해주세요"),name_ko:l.z.string().min(1,"설정 한글 이름을 입력해주세요"),value:l.z.string().min(1,"설정 값을 입력해주세요"),brewingMethod:l.z.string().min(1,"브루잉 방식을 선택해주세요"),description:l.z.string().optional(),description_ko:l.z.string().optional()})).optional()});function I({grinder:e}){let s=(0,a.useRouter)(),{toast:t}=(0,M.dj)(),[l,p]=(0,i.useState)(!1),j=e?{id:e.id,name:e.name||"",name_ko:e.name_ko||"",brand:e.brand||"",type:e.type||"",burr:e.burr||"",burrSize:e.burrSize||"",adjustmentType:e.adjustmentType||"",description:e.description||"",description_ko:e.description_ko||"",imageUrl:e.imageUrl||"",settings:e.settings?.map(e=>({id:e.id,name:e.name,name_ko:e.name_ko||"",value:e.value,brewingMethod:e.brewingMethod,description:e.description||"",description_ko:e.description_ko||""}))||[]}:{name:"",name_ko:"",brand:"",type:"",burr:"",burrSize:"",adjustmentType:"",description:"",description_ko:"",imageUrl:"",settings:[]},{register:w,handleSubmit:_,control:k,formState:{errors:S}}=(0,n.mN)({resolver:(0,d.u)(U),defaultValues:j}),{fields:A,append:R,remove:I}=(0,n.jz)({control:k,name:"settings"}),E=async r=>{p(!0);try{let i={...r,settings:r.settings||[]},a=e?.id?await x(e.id,i):await u(i);a.success?(t({title:"성공",description:e?"그라인더가 수정되었습니다.":"새 그라인더가 추가되었습니다."}),s.push("/admin/grinders")):t({title:"오류",description:a.error||"작업 중 오류가 발생했습니다.",variant:"destructive"})}catch(e){console.error("Form submission error:",e),t({title:"오류",description:"요청 처리 중 오류가 발생했습니다.",variant:"destructive"})}finally{p(!1)}};return(0,r.jsxs)("form",{onSubmit:_(E),className:"space-y-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold",children:"기본 정보"}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(N.J,{htmlFor:"name",children:"이름 (영문)"}),(0,r.jsx)(f.p,{id:"name",...w("name")}),S.name&&(0,r.jsx)("p",{className:"text-sm text-red-500",children:S.name.message})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(N.J,{htmlFor:"name_ko",children:"이름 (한글)"}),(0,r.jsx)(f.p,{id:"name_ko",...w("name_ko")}),S.name_ko&&(0,r.jsx)("p",{className:"text-sm text-red-500",children:S.name_ko.message})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(N.J,{htmlFor:"brand",children:"브랜드"}),(0,r.jsx)(f.p,{id:"brand",...w("brand")}),S.brand&&(0,r.jsx)("p",{className:"text-sm text-red-500",children:S.brand.message})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(N.J,{htmlFor:"type",children:"타입"}),(0,r.jsxs)(z,{...w("type"),defaultValue:j.type,children:[(0,r.jsx)(F,{children:(0,r.jsx)(T,{placeholder:"타입 선택"})}),(0,r.jsxs)($,{children:[(0,r.jsx)(J,{value:"manual",children:"수동"}),(0,r.jsx)(J,{value:"electric",children:"전동"}),(0,r.jsx)(J,{value:"commercial",children:"상업용"})]})]}),S.type&&(0,r.jsx)("p",{className:"text-sm text-red-500",children:S.type.message})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(N.J,{htmlFor:"adjustmentType",children:"조절 방식"}),(0,r.jsxs)(z,{...w("adjustmentType"),defaultValue:j.adjustmentType,children:[(0,r.jsx)(F,{children:(0,r.jsx)(T,{placeholder:"조절 방식 선택"})}),(0,r.jsxs)($,{children:[(0,r.jsx)(J,{value:"stepped",children:"스텝형"}),(0,r.jsx)(J,{value:"stepless",children:"무단계형"}),(0,r.jsx)(J,{value:"hybrid",children:"하이브리드"})]})]}),S.adjustmentType&&(0,r.jsx)("p",{className:"text-sm text-red-500",children:S.adjustmentType.message})]})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold",children:"추가 정보"}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(N.J,{htmlFor:"burr",children:"날 종류"}),(0,r.jsx)(f.p,{id:"burr",...w("burr")})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(N.J,{htmlFor:"burrSize",children:"날 크기"}),(0,r.jsx)(f.p,{id:"burrSize",...w("burrSize")})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(N.J,{htmlFor:"imageUrl",children:"이미지 URL"}),(0,r.jsx)(f.p,{id:"imageUrl",...w("imageUrl")})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(N.J,{htmlFor:"description",children:"설명 (영문)"}),(0,r.jsx)(g,{id:"description",...w("description"),rows:3})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(N.J,{htmlFor:"description_ko",children:"설명 (한글)"}),(0,r.jsx)(g,{id:"description_ko",...w("description_ko"),rows:3})]})]})]}),(0,r.jsxs)("div",{className:"space-y-4 pt-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold",children:"그라인더 설정"}),(0,r.jsxs)(h.$,{type:"button",variant:"outline",size:"sm",onClick:()=>R({name:"",name_ko:"",value:"",brewingMethod:"",description:"",description_ko:""}),children:[(0,r.jsx)(o.A,{className:"mr-2 h-4 w-4"}),"설정 추가"]})]}),0===A.length&&(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"그라인더 설정을 추가하세요."}),A.map((e,s)=>(0,r.jsxs)(b,{className:"relative",children:[(0,r.jsx)(y,{className:"pt-6",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(N.J,{htmlFor:`settings.${s}.name`,children:"설정 이름 (영문)"}),(0,r.jsx)(f.p,{id:`settings.${s}.name`,...w(`settings.${s}.name`)}),S.settings?.[s]?.name&&(0,r.jsx)("p",{className:"text-sm text-red-500",children:S.settings[s]?.name?.message})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(N.J,{htmlFor:`settings.${s}.name_ko`,children:"설정 이름 (한글)"}),(0,r.jsx)(f.p,{id:`settings.${s}.name_ko`,...w(`settings.${s}.name_ko`)}),S.settings?.[s]?.name_ko&&(0,r.jsx)("p",{className:"text-sm text-red-500",children:S.settings[s]?.name_ko?.message})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(N.J,{htmlFor:`settings.${s}.value`,children:"설정 값"}),(0,r.jsx)(f.p,{id:`settings.${s}.value`,...w(`settings.${s}.value`)}),S.settings?.[s]?.value&&(0,r.jsx)("p",{className:"text-sm text-red-500",children:S.settings[s]?.value?.message})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(N.J,{htmlFor:`settings.${s}.brewingMethod`,children:"브루잉 방식"}),(0,r.jsxs)(z,{...w(`settings.${s}.brewingMethod`),defaultValue:e.brewingMethod,children:[(0,r.jsx)(F,{children:(0,r.jsx)(T,{placeholder:"브루잉 방식 선택"})}),(0,r.jsxs)($,{children:[(0,r.jsx)(J,{value:"푸어오버",children:"푸어오버"}),(0,r.jsx)(J,{value:"에스프레소",children:"에스프레소"}),(0,r.jsx)(J,{value:"프렌치프레스",children:"프렌치프레스"}),(0,r.jsx)(J,{value:"에어로프레스",children:"에어로프레스"}),(0,r.jsx)(J,{value:"모카포트",children:"모카포트"}),(0,r.jsx)(J,{value:"콜드브루",children:"콜드브루"})]})]}),S.settings?.[s]?.brewingMethod&&(0,r.jsx)("p",{className:"text-sm text-red-500",children:S.settings[s]?.brewingMethod?.message})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(N.J,{htmlFor:`settings.${s}.description`,children:"설명 (영문)"}),(0,r.jsx)(g,{id:`settings.${s}.description`,...w(`settings.${s}.description`),rows:2})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(N.J,{htmlFor:`settings.${s}.description_ko`,children:"설명 (한글)"}),(0,r.jsx)(g,{id:`settings.${s}.description_ko`,...w(`settings.${s}.description_ko`),rows:2})]})]})}),(0,r.jsx)(v,{className:"flex justify-end",children:(0,r.jsxs)(h.$,{type:"button",variant:"ghost",size:"sm",onClick:()=>I(s),children:[(0,r.jsx)(c.A,{className:"mr-2 h-4 w-4"}),"삭제"]})})]},e.id))]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-2 pt-4",children:[(0,r.jsx)(h.$,{type:"button",variant:"outline",onClick:()=>s.push("/admin/grinders"),children:"취소"}),(0,r.jsxs)(h.$,{type:"submit",disabled:l,children:[l&&(0,r.jsx)(m.A,{className:"mr-2 h-4 w-4 animate-spin"}),e?"수정하기":"추가하기"]})]})]})}},69102:(e,s,t)=>{"use strict";t.d(s,{GrinderForm:()=>r});let r=(0,t(33952).registerClientReference)(function(){throw Error("Attempted to call GrinderForm() from the server but GrinderForm is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/jelly/WebstormProjects/chocoya-coffee/app/webserver/src/components/admin/grinder-form.tsx","GrinderForm")},80546:(e,s,t)=>{"use strict";t.d(s,{dj:()=>p,oR:()=>m});var r=t(60159);let i=0,a=new Map,n=e=>{if(a.has(e))return;let s=setTimeout(()=>{a.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);a.set(e,s)},d=(e,s)=>{switch(s.type){case"ADD_TOAST":return{...e,toasts:[s.toast,...e.toasts].slice(0,5)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===s.toast.id?{...e,...s.toast}:e)};case"DISMISS_TOAST":{let{toastId:t}=s;return t?n(t):e.toasts.forEach(e=>{n(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===t||void 0===t?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===s.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==s.toastId)}}},l=[],o={toasts:[]};function c(e){o=d(o,e),l.forEach(e=>{e(o)})}function m({...e}){let s=(i=(i+1)%Number.MAX_SAFE_INTEGER).toString(),t=()=>c({type:"DISMISS_TOAST",toastId:s});return c({type:"ADD_TOAST",toast:{...e,id:s,open:!0,onOpenChange:e=>{e||t()}}}),{id:s,dismiss:t,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:s}})}}function p(){let[e,s]=r.useState(o);return r.useEffect(()=>(l.push(s),()=>{let e=l.indexOf(s);e>-1&&l.splice(e,1)}),[e]),{...e,toast:m,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},87888:(e,s,t)=>{Promise.resolve().then(t.bind(t,69102)),Promise.resolve().then(t.t.bind(t,42671,23))}};