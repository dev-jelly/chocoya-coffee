exports.id=4596,exports.ids=[4596],exports.modules={9699:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var o=r(41253);let n=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,o.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},10097:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"unstable_rethrow",{enumerable:!0,get:function(){return function e(t){if((0,a.isNextRouterError)(t)||(0,i.isBailoutToCSRError)(t)||(0,u.isDynamicServerError)(t)||(0,l.isDynamicPostpone)(t)||(0,n.isPostpone)(t)||(0,o.isHangingPromiseRejectionError)(t))throw t;t instanceof Error&&"cause"in t&&e(t.cause)}}});let o=r(46049),n=r(72610),i=r(90507),a=r(5631),l=r(94924),u=r(8194);("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},22796:(e,t,r)=>{Promise.resolve().then(r.bind(r,43954)),Promise.resolve().then(r.t.bind(r,49989,23))},29699:(e,t,r)=>{"use strict";function o(){throw Object.defineProperty(Error("`forbidden()` is experimental and only allowed to be enabled when `experimental.authInterrupts` is enabled."),"__NEXT_ERROR_CODE",{value:"E488",enumerable:!1,configurable:!0})}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"forbidden",{enumerable:!0,get:function(){return o}}),r(22859).HTTP_ERROR_FALLBACK_ERROR_CODE,("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},35948:(e,t,r)=>{Promise.resolve().then(r.bind(r,55992)),Promise.resolve().then(r.t.bind(r,42671,23))},38050:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"notFound",{enumerable:!0,get:function(){return n}});let o=""+r(22859).HTTP_ERROR_FALLBACK_ERROR_CODE+";404";function n(){let e=Object.defineProperty(Error(o),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});throw e.digest=o,e}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},42543:(e,t,r)=>{"use strict";var o=r(68855);r.o(o,"notFound")&&r.d(t,{notFound:function(){return o.notFound}}),r.o(o,"redirect")&&r.d(t,{redirect:function(){return o.redirect}})},43954:(e,t,r)=>{"use strict";r.d(t,{default:()=>h});var o=r(13486),n=r(60159),i=r(2984),a=r(85626),l=r(85519),u=r(98509),s=r(81604),d=r(57956),c=r(44382),f=r.n(c),p=r(49989),m=r.n(p);let b=u.z.object({name:u.z.string().min(1,"이름을 입력해주세요"),email:u.z.string().email("유효한 이메일 주소를 입력해주세요"),bio:u.z.string().optional()});function h({user:e}){let t=(0,i.useRouter)(),[r,u]=(0,n.useState)(!1),[c,p]=(0,n.useState)(e.image),h=(0,n.useRef)(null),{register:y,handleSubmit:_,formState:{errors:R}}=(0,a.mN)({resolver:(0,l.u)(b),defaultValues:{name:e.name||"",email:e.email||"",bio:e.bio||""}}),g=()=>{h.current?.click()},j=async r=>{u(!0);try{let o=new FormData;o.append("name",r.name),o.append("email",r.email),o.append("bio",r.bio||""),h.current?.files?.[0]&&o.append("profileImage",h.current.files[0]);let n=await fetch(`/api/users/${e.id}/profile`,{method:"PUT",body:o});if(n.ok)s.oR.success("프로필이 성공적으로 업데이트되었습니다"),t.push("/auth/profile"),t.refresh();else{let e=await n.json();s.oR.error(e.error||"프로필 업데이트 중 오류가 발생했습니다")}}catch(e){console.error("프로필 업데이트 오류:",e),s.oR.error("서버 오류가 발생했습니다. 잠시 후 다시 시도해주세요")}finally{u(!1)}};return(0,o.jsx)("form",{onSubmit:_(j),children:(0,o.jsxs)("div",{className:"space-y-6",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium mb-2",children:"프로필 사진"}),(0,o.jsxs)("div",{className:"flex items-center gap-4",children:[(0,o.jsx)("div",{className:"w-20 h-20 rounded-full bg-muted flex items-center justify-center overflow-hidden cursor-pointer",onClick:g,children:c?(0,o.jsx)(f(),{src:c,alt:"프로필 이미지",width:80,height:80,className:"w-full h-full object-cover"}):(0,o.jsx)(d.A,{size:40,className:"text-muted-foreground"})}),(0,o.jsxs)("div",{children:[(0,o.jsx)("input",{type:"file",ref:h,onChange:e=>{let t=e.target.files?.[0];if(!t)return;if(t.size>2097152){s.oR.error("이미지 크기는 2MB 이하여야 합니다");return}if(!t.type.startsWith("image/")){s.oR.error("이미지 파일만 업로드 가능합니다");return}let r=new FileReader;r.onload=e=>{p(e.target?.result)},r.readAsDataURL(t)},accept:"image/jpeg, image/png, image/gif",className:"hidden"}),(0,o.jsx)("button",{type:"button",className:"px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors text-sm cursor-pointer",onClick:g,children:"사진 업로드"}),(0,o.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"JPG, PNG 파일. 최대 크기 2MB."})]})]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium mb-2",children:"이름"}),(0,o.jsx)("input",{type:"text",id:"name",...y("name"),className:"w-full p-3 rounded-md border border-input bg-background"}),R.name&&(0,o.jsx)("p",{className:"text-destructive text-xs mt-1",children:R.name.message})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium mb-2",children:"이메일"}),(0,o.jsx)("input",{type:"email",id:"email",...y("email"),className:"w-full p-3 rounded-md border border-input bg-background"}),R.email&&(0,o.jsx)("p",{className:"text-destructive text-xs mt-1",children:R.email.message})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"bio",className:"block text-sm font-medium mb-2",children:"자기소개"}),(0,o.jsx)("textarea",{id:"bio",...y("bio"),rows:4,className:"w-full p-3 rounded-md border border-input bg-background resize-none"})]}),(0,o.jsxs)("div",{className:"flex justify-end gap-3 pt-4",children:[(0,o.jsx)(m(),{href:"/auth/profile",className:"px-4 py-2 border border-input rounded-md hover:bg-accent transition-colors cursor-pointer",children:"취소"}),(0,o.jsx)("button",{type:"submit",disabled:r,className:"px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed cursor-pointer",children:r?"저장 중...":"저장하기"})]})]})})}},44382:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{default:function(){return u},getImageProps:function(){return l}});let o=r(50686),n=r(69356),i=r(75636),a=o._(r(92122));function l(e){let{props:t}=(0,n.getImgProps)(e,{defaultLoader:a.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,r]of Object.entries(t))void 0===r&&delete t[e];return{props:t}}let u=i.Image},49600:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{getRedirectError:function(){return a},getRedirectStatusCodeFromError:function(){return c},getRedirectTypeFromError:function(){return d},getURLFromRedirectError:function(){return s},permanentRedirect:function(){return u},redirect:function(){return l}});let o=r(49005),n=r(31903),i=r(19121).actionAsyncStorage;function a(e,t,r){void 0===r&&(r=o.RedirectStatusCode.TemporaryRedirect);let i=Object.defineProperty(Error(n.REDIRECT_ERROR_CODE),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return i.digest=n.REDIRECT_ERROR_CODE+";"+t+";"+e+";"+r+";",i}function l(e,t){var r;throw null!=t||(t=(null==i?void 0:null==(r=i.getStore())?void 0:r.isAction)?n.RedirectType.push:n.RedirectType.replace),a(e,t,o.RedirectStatusCode.TemporaryRedirect)}function u(e,t){throw void 0===t&&(t=n.RedirectType.replace),a(e,t,o.RedirectStatusCode.PermanentRedirect)}function s(e){return(0,n.isRedirectError)(e)?e.digest.split(";").slice(2,-2).join(";"):null}function d(e){if(!(0,n.isRedirectError)(e))throw Object.defineProperty(Error("Not a redirect error"),"__NEXT_ERROR_CODE",{value:"E260",enumerable:!1,configurable:!0});return e.digest.split(";",2)[1]}function c(e){if(!(0,n.isRedirectError)(e))throw Object.defineProperty(Error("Not a redirect error"),"__NEXT_ERROR_CODE",{value:"E260",enumerable:!1,configurable:!0});return Number(e.digest.split(";").at(-2))}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},55992:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});let o=(0,r(33952).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/jelly/WebstormProjects/chocoya-coffee/app/webserver/src/components/auth/profile-edit-form.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/jelly/WebstormProjects/chocoya-coffee/app/webserver/src/components/auth/profile-edit-form.tsx","default")},68855:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ReadonlyURLSearchParams:function(){return d},RedirectType:function(){return n.RedirectType},forbidden:function(){return a.forbidden},notFound:function(){return i.notFound},permanentRedirect:function(){return o.permanentRedirect},redirect:function(){return o.redirect},unauthorized:function(){return l.unauthorized},unstable_rethrow:function(){return u.unstable_rethrow}});let o=r(49600),n=r(31903),i=r(38050),a=r(29699),l=r(77670),u=r(69938);class s extends Error{constructor(){super("Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams")}}class d extends URLSearchParams{append(){throw new s}delete(){throw new s}set(){throw new s}sort(){throw new s}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},69938:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"unstable_rethrow",{enumerable:!0,get:function(){return o}});let o=r(10097).unstable_rethrow;("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},77670:(e,t,r)=>{"use strict";function o(){throw Object.defineProperty(Error("`unauthorized()` is experimental and only allowed to be used when `experimental.authInterrupts` is enabled."),"__NEXT_ERROR_CODE",{value:"E411",enumerable:!1,configurable:!0})}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"unauthorized",{enumerable:!0,get:function(){return o}}),r(22859).HTTP_ERROR_FALLBACK_ERROR_CODE,("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},78443:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});let o=(0,r(68366).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])}};