exports.id=856,exports.ids=[856],exports.modules={605:(e,t,s)=>{"use strict";s.d(t,{N:()=>a});var r=s(34636);let n=process.env.NEXT_PUBLIC_SUPABASE_URL||"",o=process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY||"";if(!n||!o)throw Error("Supabase URL과 익명 키가 설정되지 않았습니다.");let a=(0,r.createBrowserClient)(n,o)},4854:(e,t,s)=>{Promise.resolve().then(s.bind(s,84423))},5910:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>z,dynamic:()=>U,metadata:()=>E,revalidate:()=>_});var r=s(38828);s(14276);var n=s(22282),o=s.n(n),a=s(42671),i=s.n(a),l=s(82007),c=s(60890),d=s(55325),m=s(65543),u=s(78631),h=s(47379),f=s(79745),x=s(32081),p=s(60653),v=s(75692),g=s(91859),b=s(84875),j=s(44627);async function N(){let e=await (0,b.U)(),{data:{user:t}}=await e.auth.getUser(),s=!!t,n=null;if(t){let e={id:t.id,name:t.user_metadata?.name||"사용자",email:t.email,image:t.user_metadata?.avatar_url};n=await (0,j.kR)(async()=>await j.zR.user.findUnique({where:{id:t.id},select:{id:!0,name:!0,email:!0,image:!0}})||e,e,e=>{console.error("사용자 정보 조회 오류:",e)})}return(0,r.jsx)("header",{className:"border-b sticky top-0 bg-background z-10",children:(0,r.jsxs)("div",{className:"flex h-16 items-center px-4 md:px-6 lg:px-8 justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4 md:gap-6",children:[(0,r.jsx)(p.MobileNavClient,{isLoggedIn:s}),(0,r.jsxs)(i(),{href:"/",className:"text-xl font-bold flex items-center cursor-pointer",children:[(0,r.jsx)(v.s,{className:"mr-2 text-primary",size:28}),(0,r.jsx)("span",{children:"초코야 커피"})]}),(0,r.jsxs)("nav",{className:"hidden md:flex gap-4 md:gap-6",children:[(0,r.jsxs)(i(),{href:"/",className:"text-sm font-medium transition-colors hover:text-primary flex items-center gap-1 cursor-pointer",children:[(0,r.jsx)(d.A,{size:16}),(0,r.jsx)("span",{children:"홈"})]}),(0,r.jsxs)(i(),{href:"/recipes",className:"text-sm font-medium transition-colors hover:text-primary flex items-center gap-1 cursor-pointer",children:[(0,r.jsx)(m.A,{size:16}),(0,r.jsx)("span",{children:"레시피"})]}),(0,r.jsxs)(i(),{href:"/beans",className:"text-sm font-medium transition-colors hover:text-primary flex items-center gap-1 cursor-pointer",children:[(0,r.jsx)(u.A,{size:16}),(0,r.jsx)("span",{children:"원두 라이브러리"})]}),(0,r.jsxs)(i(),{href:"/brewing-guide",className:"text-sm font-medium transition-colors hover:text-primary flex items-center gap-1 cursor-pointer",children:[(0,r.jsx)(h.A,{size:16}),(0,r.jsx)("span",{children:"브루잉 가이드"})]}),(0,r.jsxs)(i(),{href:"/taste-notes/create",className:"text-sm font-medium transition-colors hover:text-primary flex items-center gap-1 cursor-pointer",children:[(0,r.jsx)(f.A,{size:16}),(0,r.jsx)("span",{children:"맛 노트"})]})]})]}),(0,r.jsx)("div",{className:"flex items-center gap-2 md:gap-4",children:s?(0,r.jsxs)("div",{className:"flex gap-2 md:gap-4 items-center",children:[(0,r.jsx)(l.$,{asChild:!0,variant:"outline",size:"sm",className:"hidden md:flex",children:(0,r.jsxs)(i(),{href:"/recipes/create",className:"flex items-center",children:[(0,r.jsx)(x.A,{className:"mr-2",size:16}),(0,r.jsx)("span",{children:"레시피 등록"})]})}),(0,r.jsx)("div",{className:"hidden md:block",children:(0,r.jsx)(g.CreateBeanButtonClient,{variant:"outline",size:"sm"})}),n&&(0,r.jsx)(c.UserNav,{user:n})]}):(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)(l.$,{asChild:!0,variant:"outline",size:"sm",children:(0,r.jsx)(i(),{href:"/auth/login",className:"cursor-pointer",children:"로그인"})}),(0,r.jsx)(l.$,{asChild:!0,size:"sm",children:(0,r.jsx)(i(),{href:"/auth/register",className:"cursor-pointer",children:"회원가입"})})]})})]})})}var y=s(43128),C=s(95462),w=s(41455);function k({children:e}){return(0,r.jsxs)("div",{className:"flex min-h-screen flex-col",children:[(0,r.jsx)(N,{}),(0,r.jsx)("main",{className:"flex justify-center flex-1",children:e}),(0,r.jsx)("footer",{className:"border-t py-4 md:py-6",children:(0,r.jsxs)("div",{className:"container px-4 md:px-6 flex flex-col md:flex-row items-center justify-between gap-4",children:[(0,r.jsxs)("p",{className:"text-center text-xs md:text-sm text-muted-foreground",children:["\xa9 ",(0,y.o)(new Date,{showMonth:!1,showDay:!1})," 초코야 커피"]}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)(i(),{href:"https://github.com/dev-jelly/chocoya-coffee",target:"_blank",rel:"noopener noreferrer",className:"text-muted-foreground hover:text-foreground transition-colors","aria-label":"GitHub",children:(0,r.jsx)(C.A,{size:18})}),(0,r.jsxs)(i(),{href:"https://octol.ing",target:"_blank",rel:"noopener noreferrer",className:"text-muted-foreground hover:text-foreground transition-colors flex items-center gap-1","aria-label":"초코야 홈페이지",children:[(0,r.jsx)("span",{className:"text-xs md:text-sm",children:"octol.ing"}),(0,r.jsx)(w.A,{size:14})]})]})]})})]})}var A=s(90636),P=s(10468);let U="force-dynamic",_=0,E={title:"초코야 커피",description:"커피 브루잉 레시피와 맛 노트를 공유하는 플랫폼",icons:{icon:"/favicon.svg",apple:"/favicon.svg"}};function z({children:e}){return(0,r.jsxs)("html",{lang:"ko",suppressHydrationWarning:!0,children:[(0,r.jsx)("head",{children:(0,r.jsx)("link",{rel:"icon",href:"/favicon.svg",type:"image/svg+xml"})}),(0,r.jsx)("body",{className:(0,y.cn)(o().className,"min-h-screen bg-background"),children:(0,r.jsxs)(P.default,{children:[(0,r.jsx)(k,{children:e}),(0,r.jsx)(A.Toaster,{})]})})]})}},10228:(e,t,s)=>{Promise.resolve().then(s.bind(s,80765))},10468:(e,t,s)=>{"use strict";s.d(t,{default:()=>r});let r=(0,s(33952).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/jelly/WebstormProjects/chocoya-coffee/app/webserver/src/providers/session-provider.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/jelly/WebstormProjects/chocoya-coffee/app/webserver/src/providers/session-provider.tsx","default")},13369:(e,t,s)=>{"use strict";s.d(t,{A:()=>i,O:()=>a});var r=s(13486),n=s(60159);s(70593),s(605);let o=(0,n.createContext)({user:null,loading:!0,error:null});function a({children:e}){let[t,s]=(0,n.useState)(null),[a,i]=(0,n.useState)(!0),[l,c]=(0,n.useState)(null);return(0,r.jsx)(o.Provider,{value:{user:t,loading:a,error:l},children:e})}function i(){return(0,n.useContext)(o)}},14276:()=>{},16755:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,30385,23)),Promise.resolve().then(s.t.bind(s,33737,23)),Promise.resolve().then(s.t.bind(s,86081,23)),Promise.resolve().then(s.t.bind(s,1904,23)),Promise.resolve().then(s.t.bind(s,35856,23)),Promise.resolve().then(s.t.bind(s,55492,23)),Promise.resolve().then(s.t.bind(s,89082,23)),Promise.resolve().then(s.t.bind(s,45812,23))},17210:(e,t,s)=>{"use strict";s.d(t,{Toaster:()=>a});var r=s(13486),n=s(33788),o=s(81604);let a=({...e})=>{let{theme:t="system"}=(0,n.D)();return(0,r.jsx)(o.l$,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground font-medium",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground font-medium"}},...e})}},23659:(e,t,s)=>{"use strict";s.d(t,{CreateBeanButtonClient:()=>m});var r=s(13486),n=s(74941),o=s(58499),a=s(49989),i=s.n(a),l=s(13369),c=s(81604);function d({className:e="",variant:t="default",size:s="default"}){let{user:a}=(0,l.A)();return(0,r.jsx)(r.Fragment,{children:a?(0,r.jsx)(i(),{href:"/beans/create",children:(0,r.jsxs)(n.$,{variant:t,size:s,className:`${e} cursor-pointer`,children:[(0,r.jsx)(o.A,{className:"mr-2 h-4 w-4"}),"원두 등록"]})}):(0,r.jsxs)(n.$,{variant:t,size:s,className:`${e} cursor-pointer`,onClick:()=>{if(!a){c.oR.error("로그인이 필요합니다",{description:"원두 등록을 위해 먼저 로그인해주세요."});return}},children:[(0,r.jsx)(o.A,{className:"mr-2 h-4 w-4"}),"원두 등록"]})})}function m(e){return(0,r.jsx)(d,{...e})}},26518:(e,t,s)=>{"use strict";s.d(t,{cn:()=>o});var r=s(4627),n=s(55855);function o(...e){return(0,n.QP)((0,r.$)(e))}},29645:(e,t,s)=>{Promise.resolve().then(s.bind(s,23659)),Promise.resolve().then(s.bind(s,73034)),Promise.resolve().then(s.bind(s,32064)),Promise.resolve().then(s.bind(s,17210)),Promise.resolve().then(s.bind(s,77394)),Promise.resolve().then(s.t.bind(s,49989,23))},32064:(e,t,s)=>{"use strict";s.d(t,{UserNav:()=>k});var r=s(13486),n=s(60159),o=s(55124),a=s(26518);let i=n.forwardRef(({className:e,...t},s)=>(0,r.jsx)(o.bL,{ref:s,className:(0,a.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));i.displayName=o.bL.displayName;let l=n.forwardRef(({className:e,...t},s)=>(0,r.jsx)(o._V,{ref:s,className:(0,a.cn)("aspect-square h-full w-full",e),...t}));l.displayName=o._V.displayName;let c=n.forwardRef(({className:e,...t},s)=>(0,r.jsx)(o.H4,{ref:s,className:(0,a.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));c.displayName=o.H4.displayName;var d=s(74941),m=s(7503);function u({...e}){return(0,r.jsx)(m.bL,{"data-slot":"dropdown-menu",...e})}function h({...e}){return(0,r.jsx)(m.l9,{"data-slot":"dropdown-menu-trigger",...e})}function f({className:e,sideOffset:t=4,...s}){return(0,r.jsx)(m.ZL,{children:(0,r.jsx)(m.UC,{"data-slot":"dropdown-menu-content",sideOffset:t,className:(0,a.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[8rem] overflow-hidden rounded-md border p-1 shadow-md",e),...s})})}function x({...e}){return(0,r.jsx)(m.YJ,{"data-slot":"dropdown-menu-group",...e})}function p({className:e,inset:t,variant:s="default",...n}){return(0,r.jsx)(m.q7,{"data-slot":"dropdown-menu-item","data-inset":t,"data-variant":s,className:(0,a.cn)("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive-foreground data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/40 data-[variant=destructive]:focus:text-destructive-foreground data-[variant=destructive]:*:[svg]:!text-destructive-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...n})}function v({className:e,inset:t,...s}){return(0,r.jsx)(m.JU,{"data-slot":"dropdown-menu-label","data-inset":t,className:(0,a.cn)("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",e),...s})}function g({className:e,...t}){return(0,r.jsx)(m.wv,{"data-slot":"dropdown-menu-separator",className:(0,a.cn)("bg-border -mx-1 my-1 h-px",e),...t})}var b=s(2984),j=s(49989),N=s.n(j),y=s(70593),C=s(81604);function w({variant:e="default",className:t,children:s}){let[o,a]=(0,n.useState)(!1),i=(0,b.useRouter)(),l=async()=>{a(!0);try{await (0,y.CI)(),C.oR.success("로그아웃되었습니다."),i.push("/"),i.refresh()}catch(e){console.error("로그아웃 오류:",e),C.oR.error("로그아웃 중 오류가 발생했습니다.")}finally{a(!1)}};return(0,r.jsx)(d.$,{variant:e,onClick:l,disabled:o,className:t,children:o?"로그아웃 중...":s||"로그아웃"})}function k({user:e}){(0,b.useRouter)();let t=e.name?e.name.split(" ").map(e=>e[0]).join(""):e.email?.charAt(0)||"U",s=e.email===(process.env.NEXT_PUBLIC_ADMIN_EMAIL||"admin@chocoya.coffee");return(0,r.jsxs)(u,{children:[(0,r.jsx)(h,{asChild:!0,children:(0,r.jsx)(d.$,{variant:"ghost",className:"relative h-8 w-8 rounded-full cursor-pointer",children:(0,r.jsxs)(i,{className:"h-8 w-8",children:[(0,r.jsx)(l,{src:e.image||"",alt:e.name||"사용자"}),(0,r.jsx)(c,{children:t})]})})}),(0,r.jsxs)(f,{className:"w-56",align:"end",forceMount:!0,children:[(0,r.jsx)(v,{className:"font-normal",children:(0,r.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,r.jsx)("p",{className:"text-sm font-medium leading-none",children:e.name||"사용자"}),(0,r.jsx)("p",{className:"text-xs leading-none text-muted-foreground",children:e.email})]})}),(0,r.jsx)(g,{}),(0,r.jsxs)(x,{children:[(0,r.jsx)(p,{asChild:!0,children:(0,r.jsx)(N(),{href:"/auth/profile",className:"cursor-pointer",children:"프로필"})}),(0,r.jsx)(p,{asChild:!0,children:(0,r.jsx)(N(),{href:"/recipes/my",className:"cursor-pointer",children:"내 레시피"})}),s&&(0,r.jsx)(p,{asChild:!0,children:(0,r.jsx)(N(),{href:"/admin",className:"cursor-pointer",children:"관리자 대시보드"})})]}),(0,r.jsx)(g,{}),(0,r.jsx)(p,{asChild:!0,children:(0,r.jsx)(w,{variant:"ghost",className:"cursor-pointer w-full justify-start",children:"로그아웃"})})]})]})}},43128:(e,t,s)=>{"use strict";s.d(t,{cn:()=>o,o:()=>a});var r=s(56413),n=s(4465);function o(...e){return(0,n.QP)((0,r.$)(e))}function a(e,t={}){let{showYear:s=!0,showMonth:r=!0,showDay:n=!0,showTime:o=!1,showWeekday:i=!1}=t;try{let t=e instanceof Date?e:new Date(e);if(isNaN(t.getTime()))return"날짜 정보 없음";let a=["일","월","화","수","목","금","토"][t.getDay()],l="";if(s&&(l+=`${t.getFullYear()}년 `),r&&(l+=`${t.getMonth()+1}월 `),n&&(l+=`${t.getDate()}일`),i&&(l+=` (${a})`),o){let e=t.getHours(),s=t.getMinutes();l+=` ${e<12?"오전":"오후"} ${e%12||12}시 ${s.toString().padStart(2,"0")}분`}return l.trim()}catch(e){return console.error("날짜 포맷팅 오류:",e),"날짜 정보 없음"}}},44627:(e,t,s)=>{"use strict";s.d(t,{kR:()=>i,zR:()=>o});var r=s(96330);let n=global;n.isConnected||(n.isConnected=!1,n.connectionError=null,n.lastConnectionAttempt=0,n.connectionRetryCount=0);let o=n.prisma??function(){let e=process.env.DATABASE_URL;process.env.DIRECT_URL;let t={log:["error"],errorFormat:"pretty"};return e&&(t.datasources={db:{url:e}}),new r.PrismaClient(t)}();async function a(){try{let e=Date.now();if(n.isConnected)return{connected:!0,error:null};if(n.connectionError&&e-n.lastConnectionAttempt<3e4)return{connected:!1,error:n.connectionError};if(n.connectionRetryCount>=3){let t=e-n.lastConnectionAttempt;if(t<3e4)return{connected:!1,error:`${n.connectionError} (${Math.ceil((3e4-t)/1e3)}초 후 재시도 가능)`};n.connectionRetryCount=0}return n.lastConnectionAttempt=e,n.connectionRetryCount++,await o.user.findFirst({select:{id:!0},take:1}),n.isConnected=!0,n.connectionError=null,n.connectionRetryCount=0,{connected:!0,error:null}}catch(t){console.error("Database connection error:",t);let e="데이터베이스 연결 오류";return t instanceof Error&&(t.message.includes("P5010")||t.message.includes("fetch failed")?e="데이터베이스 서버에 연결할 수 없습니다. 네트워크 연결을 확인하거나 잠시 후 다시 시도해주세요.":t.message.includes("timeout")?e="데이터베이스 연결 시간이 초과되었습니다. 잠시 후 다시 시도해주세요.":t.message.includes("authentication")&&(e="데이터베이스 인증에 실패했습니다. 관리자에게 문의하세요.")),n.isConnected=!1,n.connectionError=e,{connected:!1,error:e}}}async function i(e,t,s){try{let r=await a();if(!r.connected)return s&&s(Error(r.error||"데이터베이스 연결 오류")),t;return await e()}catch(e){return console.error("Database operation error:",e),s&&s(e),t}}},51710:(e,t,s)=>{Promise.resolve().then(s.bind(s,60473))},60473:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});var r=s(13486);s(60159);var n=s(86e3);function o({error:e,reset:t}){let s="알 수 없는 오류가 발생했습니다.",o=!1;return e.message&&(e.message.includes("데이터베이스")||e.message.includes("database")||e.message.includes("P5010")||e.message.includes("connection")?(o=!0,s="데이터베이스 연결 오류가 발생했습니다. 네트워크 연결을 확인하거나 잠시 후 다시 시도해주세요."):s=e.message),(0,r.jsx)("html",{children:(0,r.jsx)("body",{children:(0,r.jsx)("div",{className:"flex min-h-screen flex-col items-center justify-center text-center px-4 bg-background",children:(0,r.jsxs)("div",{className:"max-w-md",children:[(0,r.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 mb-6",children:[(0,r.jsx)("div",{className:"flex justify-center mb-4",children:(0,r.jsx)(n.A,{className:"h-12 w-12 text-red-500"})}),(0,r.jsx)("h1",{className:"text-2xl font-bold text-red-700 mb-2",children:o?"데이터베이스 연결 오류":"오류가 발생했습니다"}),(0,r.jsx)("p",{className:"text-red-600 mb-6",children:s}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[(0,r.jsxs)("button",{onClick:()=>t(),className:"flex items-center justify-center px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[(0,r.jsx)("svg",{className:"mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"다시 시도"]}),(0,r.jsxs)("a",{href:"/",className:"flex items-center justify-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",children:[(0,r.jsx)("svg",{className:"mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7m-7-7v14"})}),"홈으로 돌아가기"]})]})]}),o&&(0,r.jsxs)("div",{className:"text-sm text-gray-500",children:[(0,r.jsx)("p",{className:"mb-2",children:"다음 방법을 시도해 보세요:"}),(0,r.jsxs)("ul",{className:"list-disc text-left pl-5 space-y-1",children:[(0,r.jsx)("li",{children:"인터넷 연결 상태를 확인하세요."}),(0,r.jsx)("li",{children:"브라우저를 새로고침하거나 잠시 후 다시 시도하세요."}),(0,r.jsx)("li",{children:"문제가 지속되면 관리자에게 문의하세요."})]})]})]})})})})}},60653:(e,t,s)=>{"use strict";s.d(t,{MobileNavClient:()=>r});let r=(0,s(33952).registerClientReference)(function(){throw Error("Attempted to call MobileNavClient() from the server but MobileNavClient is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/jelly/WebstormProjects/chocoya-coffee/app/webserver/src/components/layout/mobile-nav-client.tsx","MobileNavClient")},60890:(e,t,s)=>{"use strict";s.d(t,{UserNav:()=>r});let r=(0,s(33952).registerClientReference)(function(){throw Error("Attempted to call UserNav() from the server but UserNav is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/jelly/WebstormProjects/chocoya-coffee/app/webserver/src/components/layout/user-nav.tsx","UserNav")},62964:(e,t,s)=>{Promise.resolve().then(s.bind(s,96583))},63611:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,69355,23)),Promise.resolve().then(s.t.bind(s,54439,23)),Promise.resolve().then(s.t.bind(s,67851,23)),Promise.resolve().then(s.t.bind(s,94730,23)),Promise.resolve().then(s.t.bind(s,19774,23)),Promise.resolve().then(s.t.bind(s,53170,23)),Promise.resolve().then(s.t.bind(s,20968,23)),Promise.resolve().then(s.t.bind(s,78298,23))},70593:(e,t,s)=>{"use strict";s.d(t,{Bh:()=>l,CI:()=>i,Ru:()=>o,bk:()=>n,cU:()=>a});var r=s(605);async function n(e,t){let{data:s,error:n}=await r.N.auth.signUp({email:e,password:t});if(n)throw n;return s}async function o(e,t){let{data:s,error:n}=await r.N.auth.signInWithPassword({email:e,password:t});if(n)return n.message.includes("Invalid login credentials")?{success:!1,error:"이메일 또는 비밀번호가 올바르지 않습니다."}:n.message.includes("Email not confirmed")?{success:!1,error:"이메일 인증이 완료되지 않았습니다. 메일함을 확인해주세요."}:n.message.includes("rate limit")?{success:!1,error:"로그인 시도가 너무 많습니다. 잠시 후 다시 시도해주세요."}:{success:!1,error:"로그인 중 오류가 발생했습니다: "+n.message};return{success:!0,data:s}}async function a(e){let{data:t,error:s}=await r.N.auth.signInWithOAuth({provider:e,options:{redirectTo:`${window.location.origin}/auth/callback`}});return s?s.message.includes("popup blocked")?{success:!1,error:"팝업이 차단되었습니다. 팝업 차단을 해제해주세요."}:s.message.includes("canceled")?{success:!1,error:"로그인이 취소되었습니다."}:{success:!1,error:`${e} 로그인 중 오류가 발생했습니다: `+s.message}:{success:!0,data:t}}async function i(){let{error:e}=await r.N.auth.signOut();if(e)throw e}function l(e){return r.N.auth.onAuthStateChange((t,s)=>{e(s?.user||null)})}},73034:(e,t,s)=>{"use strict";s.d(t,{MobileNavClient:()=>_});var r=s(13486),n=s(60159),o=s(49989),a=s.n(o),i=s(74941),l=s(58467),c=s(36608),d=s(1039),m=s(26518);let u=l.bL,h=l.l9;l.bm;let f=l.ZL,x=n.forwardRef(({className:e,...t},s)=>(0,r.jsx)(l.hJ,{className:(0,m.cn)("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:s}));x.displayName=l.hJ.displayName;let p=(0,c.F)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),v=n.forwardRef(({side:e="right",className:t,children:s,...n},o)=>(0,r.jsxs)(f,{children:[(0,r.jsx)(x,{}),(0,r.jsxs)(l.UC,{ref:o,className:(0,m.cn)(p({side:e}),t),...n,children:[s,(0,r.jsxs)(l.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[(0,r.jsx)(d.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]}));v.displayName=l.UC.displayName;let g=n.forwardRef(({className:e,...t},s)=>(0,r.jsx)(l.hE,{ref:s,className:(0,m.cn)("text-lg font-semibold text-foreground",e),...t}));g.displayName=l.hE.displayName,n.forwardRef(({className:e,...t},s)=>(0,r.jsx)(l.VY,{ref:s,className:(0,m.cn)("text-sm text-muted-foreground",e),...t})).displayName=l.VY.displayName;var b=s(62424),j=s(58499),N=s(39499),y=s(72513),C=s(30865),w=s(39616),k=s(34606),A=s(57956),P=s(42773),U=s(13369);function _({isLoggedIn:e}){let[t,s]=(0,n.useState)(!1),{user:o}=(0,U.A)(),l=o?.email===(process.env.NEXT_PUBLIC_ADMIN_EMAIL||"admin@chocoya.coffee");return(0,r.jsxs)(u,{open:t,onOpenChange:s,children:[(0,r.jsx)(h,{asChild:!0,children:(0,r.jsxs)(i.$,{variant:"ghost",size:"icon",className:"md:hidden",children:[(0,r.jsx)(b.A,{size:24}),(0,r.jsx)("span",{className:"sr-only",children:"메뉴 열기"})]})}),(0,r.jsxs)(v,{side:"left",className:"w-[280px] sm:w-[350px] p-0",children:[(0,r.jsx)(g,{className:"sr-only",children:"초코야 커피 메뉴"}),(0,r.jsxs)("div",{className:"flex flex-col h-full",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",children:[(0,r.jsxs)(a(),{href:"/",className:"text-xl font-bold flex items-center",onClick:()=>s(!1),children:[(0,r.jsx)(j.A,{className:"mr-2",size:24}),(0,r.jsx)("span",{children:"초코야 커피"})]}),(0,r.jsxs)(i.$,{variant:"ghost",size:"icon",onClick:()=>s(!1),children:[(0,r.jsx)(d.A,{size:24}),(0,r.jsx)("span",{className:"sr-only",children:"메뉴 닫기"})]})]}),(0,r.jsxs)("nav",{className:"flex flex-col gap-1 p-4 flex-1 overflow-y-auto",children:[(0,r.jsxs)(a(),{href:"/",className:"flex items-center gap-2 px-3 py-2 rounded-md hover:bg-accent",onClick:()=>s(!1),children:[(0,r.jsx)(N.A,{size:18}),(0,r.jsx)("span",{children:"홈"})]}),(0,r.jsxs)(a(),{href:"/recipes",className:"flex items-center gap-2 px-3 py-2 rounded-md hover:bg-accent",onClick:()=>s(!1),children:[(0,r.jsx)(y.A,{size:18}),(0,r.jsx)("span",{children:"레시피"})]}),(0,r.jsxs)(a(),{href:"/beans",className:"flex items-center gap-2 px-3 py-2 rounded-md hover:bg-accent",onClick:()=>s(!1),children:[(0,r.jsx)(j.A,{size:18}),(0,r.jsx)("span",{children:"원두 라이브러리"})]}),(0,r.jsxs)(a(),{href:"/brewing-guide",className:"flex items-center gap-2 px-3 py-2 rounded-md hover:bg-accent",onClick:()=>s(!1),children:[(0,r.jsx)(C.A,{size:18}),(0,r.jsx)("span",{children:"브루잉 가이드"})]}),(0,r.jsxs)(a(),{href:"/taste-notes/create",className:"flex items-center gap-2 px-3 py-2 rounded-md hover:bg-accent",onClick:()=>s(!1),children:[(0,r.jsx)(w.A,{size:18}),(0,r.jsx)("span",{children:"맛 노트"})]}),(0,r.jsxs)(a(),{href:"/recipes/create",className:"flex items-center gap-2 px-3 py-2 rounded-md hover:bg-accent",onClick:()=>s(!1),children:[(0,r.jsx)(j.A,{size:18}),(0,r.jsx)("span",{children:"레시피 등록"})]}),e&&(0,r.jsxs)(a(),{href:"/beans/create",className:"flex items-center gap-2 px-3 py-2 rounded-md hover:bg-accent",onClick:()=>s(!1),children:[(0,r.jsx)(j.A,{size:18}),(0,r.jsx)("span",{children:"원두 등록"})]}),l&&(0,r.jsxs)(a(),{href:"/admin",className:"flex items-center gap-2 px-3 py-2 rounded-md hover:bg-accent",onClick:()=>s(!1),children:[(0,r.jsx)(k.A,{size:18}),(0,r.jsx)("span",{children:"관리자 대시보드"})]})]}),(0,r.jsx)("div",{className:"border-t p-4",children:e?(0,r.jsxs)(a(),{href:"/auth/profile",className:"flex items-center gap-2 px-3 py-2 rounded-md hover:bg-accent",onClick:()=>s(!1),children:[(0,r.jsx)(A.A,{size:18}),(0,r.jsx)("span",{children:"내 프로필"})]}):(0,r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,r.jsxs)(a(),{href:"/auth/login",className:"flex items-center gap-2 px-3 py-2 rounded-md hover:bg-accent",onClick:()=>s(!1),children:[(0,r.jsx)(P.A,{size:18}),(0,r.jsx)("span",{children:"로그인"})]}),(0,r.jsx)(i.$,{asChild:!0,className:"w-full mt-2",children:(0,r.jsx)(a(),{href:"/auth/register",onClick:()=>s(!1),children:"회원가입"})})]})})]})]})]})}},74941:(e,t,s)=>{"use strict";s.d(t,{$:()=>l});var r=s(13486),n=s(60159),o=s(36608),a=s(26518);let i=(0,o.F)("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=n.forwardRef(({className:e,variant:t,size:s,asChild:n=!1,...o},l)=>(0,r.jsx)("button",{className:(0,a.cn)(i({variant:t,size:s,className:e})),ref:l,...o}));l.displayName="Button"},75692:(e,t,s)=>{"use strict";s.d(t,{s:()=>n});var r=s(38828);function n({className:e,size:t=24}){return(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100",width:t,height:t,fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[(0,r.jsx)("path",{d:"M30 40L35 80H65L70 40",fill:"currentColor",fillOpacity:"0.1",stroke:"currentColor",strokeWidth:"2"}),(0,r.jsx)("path",{d:"M35 50H65",stroke:"currentColor",strokeWidth:"1.5"}),(0,r.jsx)("path",{d:"M70 50C75 50 82 45 85 50C88 55 82 65 85 70",stroke:"currentColor",strokeWidth:"2"}),(0,r.jsx)("path",{d:"M45 35C45 30 40 30 40 25",stroke:"currentColor",strokeWidth:"1.5"}),(0,r.jsx)("path",{d:"M55 35C55 30 60 30 60 25",stroke:"currentColor",strokeWidth:"1.5"})]})}s(61365)},77394:(e,t,s)=>{"use strict";s.d(t,{default:()=>o});var r=s(13486),n=s(13369);function o({children:e}){return(0,r.jsx)(n.O,{children:e})}},80765:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(33952).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/jelly/WebstormProjects/chocoya-coffee/app/webserver/src/app/error.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/jelly/WebstormProjects/chocoya-coffee/app/webserver/src/app/error.tsx","default")},82007:(e,t,s)=>{"use strict";s.d(t,{$:()=>l});var r=s(38828),n=s(61365),o=s(2269),a=s(43128);let i=(0,o.F)("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=n.forwardRef(({className:e,variant:t,size:s,asChild:n=!1,...o},l)=>(0,r.jsx)("button",{className:(0,a.cn)(i({variant:t,size:s,className:e})),ref:l,...o}));l.displayName="Button"},82381:(e,t,s)=>{Promise.resolve().then(s.bind(s,91859)),Promise.resolve().then(s.bind(s,60653)),Promise.resolve().then(s.bind(s,60890)),Promise.resolve().then(s.bind(s,90636)),Promise.resolve().then(s.bind(s,10468)),Promise.resolve().then(s.t.bind(s,42671,23))},84423:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(33952).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/jelly/WebstormProjects/chocoya-coffee/app/webserver/src/app/global-error.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/jelly/WebstormProjects/chocoya-coffee/app/webserver/src/app/global-error.tsx","default")},84875:(e,t,s)=>{"use strict";s.d(t,{U:()=>o});var r=s(65208),n=s(83395);async function o(){try{let e;try{e=await (0,r.UL)()}catch(e){return console.warn("정적 렌더링 중 cookies() 호출 실패:",e),(0,n.createServerClient)(process.env.NEXT_PUBLIC_SUPABASE_URL||"",process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY||"",{cookies:{get:e=>"",set(e,t,s){},remove(e,t){}}})}return(0,n.createServerClient)(process.env.NEXT_PUBLIC_SUPABASE_URL||"",process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY||"",{cookies:{async get(t){let s=await e.get(t);return s?.value},set(t,s,r){try{e.set({name:t,value:s,...r})}catch(e){console.warn("Warning: Failed to set cookie in a Server Component.",e)}},remove(t,s){try{e.delete({name:t,...s})}catch(e){console.warn("Warning: Failed to remove cookie in a Server Component.",e)}}}})}catch(e){return console.error("Supabase 클라이언트 생성 오류:",e),(0,n.createServerClient)(process.env.NEXT_PUBLIC_SUPABASE_URL||"",process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY||"",{cookies:{get:e=>"",set(e,t,s){},remove(e,t){}}})}}},90636:(e,t,s)=>{"use strict";s.d(t,{Toaster:()=>r});let r=(0,s(33952).registerClientReference)(function(){throw Error("Attempted to call Toaster() from the server but Toaster is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/jelly/WebstormProjects/chocoya-coffee/app/webserver/src/components/ui/sonner.tsx","Toaster")},91859:(e,t,s)=>{"use strict";s.d(t,{CreateBeanButtonClient:()=>r});let r=(0,s(33952).registerClientReference)(function(){throw Error("Attempted to call CreateBeanButtonClient() from the server but CreateBeanButtonClient is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/jelly/WebstormProjects/chocoya-coffee/app/webserver/src/components/bean/create-bean-button-client.tsx","CreateBeanButtonClient")},96583:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var r=s(13486);s(60159);var n=s(49989),o=s.n(n),a=s(86e3),i=s(59203),l=s(39499),c=s(74941);function d({error:e,reset:t}){let s="알 수 없는 오류가 발생했습니다.",n=!1;return e.message&&(e.message.includes("데이터베이스")||e.message.includes("database")||e.message.includes("P5010")||e.message.includes("connection")?(n=!0,s="데이터베이스 연결 오류가 발생했습니다. 네트워크 연결을 확인하거나 잠시 후 다시 시도해주세요."):s=e.message),(0,r.jsx)("div",{className:"flex min-h-[70vh] flex-col items-center justify-center text-center px-4",children:(0,r.jsxs)("div",{className:"max-w-md",children:[(0,r.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 mb-6",children:[(0,r.jsx)("div",{className:"flex justify-center mb-4",children:(0,r.jsx)(a.A,{className:"h-12 w-12 text-red-500"})}),(0,r.jsx)("h1",{className:"text-2xl font-bold text-red-700 mb-2",children:n?"데이터베이스 연결 오류":"오류가 발생했습니다"}),(0,r.jsx)("p",{className:"text-red-600 mb-6",children:s}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[(0,r.jsxs)(c.$,{variant:"outline",onClick:()=>t(),className:"flex items-center justify-center",children:[(0,r.jsx)(i.A,{className:"mr-2 h-4 w-4"}),"다시 시도"]}),(0,r.jsx)(c.$,{asChild:!0,variant:"default",children:(0,r.jsxs)(o(),{href:"/",className:"flex items-center justify-center",children:[(0,r.jsx)(l.A,{className:"mr-2 h-4 w-4"}),"홈으로 돌아가기"]})})]})]}),n&&(0,r.jsxs)("div",{className:"text-sm text-muted-foreground",children:[(0,r.jsx)("p",{className:"mb-2",children:"다음 방법을 시도해 보세요:"}),(0,r.jsxs)("ul",{className:"list-disc text-left pl-5 space-y-1",children:[(0,r.jsx)("li",{children:"인터넷 연결 상태를 확인하세요."}),(0,r.jsx)("li",{children:"브라우저를 새로고침하거나 잠시 후 다시 시도하세요."}),(0,r.jsx)("li",{children:"문제가 지속되면 관리자에게 문의하세요."})]})]})]})})}}};